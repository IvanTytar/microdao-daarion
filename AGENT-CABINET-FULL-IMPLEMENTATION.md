# ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –∑ CrewAI –∫–æ–º–∞–Ω–¥–∞–º–∏ - –ü–æ–≤–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

**–î–∞—Ç–∞:** 2025-11-23  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

---

## üéâ –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### ‚úÖ Frontend (React)

**–§–∞–π–ª:** `src/pages/AgentCabinetPage.tsx`

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –∞–≥–µ–Ω—Ç–∞ (uptime, –∑–∞–ø–∏—Ç–∏, —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å, —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º" –¥–ª—è –∑–≤–∏—á–∞–π–Ω–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è CrewAI –∫–æ–º–∞–Ω–¥ –¥–ª—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
- ‚úÖ –í—ñ–∫–Ω–æ —á–∞—Ç—É –∑ –∞–≥–µ–Ω—Ç–æ–º
- ‚úÖ 5 –≤–∫–ª–∞–¥–æ–∫: –û–≥–ª—è–¥, –ú–µ—Ç—Ä–∏–∫–∏, –ö–æ–º–∞–Ω–¥–∞, CrewAI –ö–æ–º–∞–Ω–¥–∏, –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

**–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –º–∞—Ä—à—Ä—É—Ç `/agent/:agentId` –≤ `src/App.tsx`

---

### ‚úÖ Backend (FastAPI)

**–§–∞–π–ª:** `services/agent-cabinet-service/app/main.py`

**Endpoints:**
1. ‚úÖ `GET /health` - Health check
2. ‚úÖ `GET /api/agent/{agent_id}/metrics` - –ú–µ—Ç—Ä–∏–∫–∏ –∞–≥–µ–Ω—Ç–∞
3. ‚úÖ `GET /api/agent/{agent_id}/crews` - CrewAI –∫–æ–º–∞–Ω–¥–∏
4. ‚úÖ `POST /api/agent/{agent_id}/become-orchestrator` - –°—Ç–∞—Ç–∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
5. ‚úÖ `POST /api/agent/{agent_id}/crews/create` - –°—Ç–≤–æ—Ä–∏—Ç–∏ CrewAI –∫–æ–º–∞–Ω–¥—É
6. ‚úÖ `POST /api/agent/{agent_id}/add-sub-agent` - –î–æ–¥–∞—Ç–∏ –∞–≥–µ–Ω—Ç–∞ –¥–æ –∫–æ–º–∞–Ω–¥–∏
7. ‚úÖ `POST /api/agent/{agent_id}/remove-sub-agent` - –í–∏–¥–∞–ª–∏—Ç–∏ –∞–≥–µ–Ω—Ç–∞ –∑ –∫–æ–º–∞–Ω–¥–∏
8. ‚úÖ `POST /api/agent/{agent_id}/chat` - –ß–∞—Ç –∑ –∞–≥–µ–Ω—Ç–æ–º

**–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è:**
- ‚úÖ Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ DAGI Router –¥–ª—è —á–∞—Ç—É
- ‚úÖ In-memory storage (–≥–æ—Ç–æ–≤–æ –¥–ª—è –∑–∞–º—ñ–Ω–∏ –Ω–∞ PostgreSQL)

---

### ‚úÖ CrewAI –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

**–§–∞–π–ª:** `/opt/microdao-daarion/router/crews/yaromir_crew.py`

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `LLM` –æ–±–≥–æ—Ä—Ç–∫–∏ –∑ CrewAI
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –¥–æ prompt —Ñ–∞–π–ª—ñ–≤
- ‚úÖ –í—Å—ñ 4 —Å—É–±–∞–≥–µ–Ω—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ LLM

---

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Backend

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
cd services/agent-cabinet-service
pip install -r requirements.txt
python -m uvicorn app.main:app --host 0.0.0.0 --port 8898 --reload

# –ê–±–æ —á–µ—Ä–µ–∑ Docker
docker-compose up -d agent-cabinet
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Frontend

```bash
npm run dev
```

### 3. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–±—ñ–Ω–µ—Ç –∞–≥–µ–Ω—Ç–∞

```
http://localhost:8899/agent/yaromir
http://localhost:8899/agent/clan
http://localhost:8899/agent/soul
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
Frontend (React)
‚îú‚îÄ‚îÄ src/pages/AgentCabinetPage.tsx    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞–±—ñ–Ω–µ—Ç—É
‚îî‚îÄ‚îÄ src/App.tsx                       # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è

Backend (FastAPI)
‚îî‚îÄ‚îÄ services/agent-cabinet-service/
    ‚îú‚îÄ‚îÄ app/main.py                    # API endpoints
    ‚îú‚îÄ‚îÄ Dockerfile                     # Docker –æ–±—Ä–∞–∑
    ‚îî‚îÄ‚îÄ requirements.txt                # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

CrewAI
‚îî‚îÄ‚îÄ router/crews/yaromir_crew.py      # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏ –Ø—Ä–æ–º–∏—Ä–∞
```

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Environment Variables

**Backend:**
```bash
ROUTER_URL=http://localhost:9102
```

**Frontend:**
```bash
VITE_AGENT_CABINET_URL=http://localhost:8898
```

---

## üìù API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É backend –¥–æ—Å—Ç—É–ø–Ω–∞ Swagger UI:
```
http://localhost:8898/docs
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ì–æ—Ç–æ–≤–æ:**
- ‚úÖ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ Backend —Å–µ—Ä–≤—ñ—Å
- ‚úÖ –í—Å—ñ API endpoints
- ‚úÖ Docker Compose —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- ‚úÖ CrewAI —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–∞

**–ü–æ—Ç—Ä—ñ–±–Ω–æ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):**
- ‚è≥ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ PostgreSQL (–∑–∞–º—ñ—Å—Ç—å in-memory)
- ‚è≥ –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –∑ Prometheus
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–±—ñ–Ω–µ—Ç—É –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó

---

**–ö–∞–±—ñ–Ω–µ—Ç–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –∑ CrewAI –∫–æ–º–∞–Ω–¥–∞–º–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ!** üéâ

