# üîß –í–ò–ü–†–ê–í–ò–¢–ò: Helion system_prompt –Ω–µ –ø—Ä–∞—Ü—é—î

## ‚ùå –ü–æ—Ç–æ—á–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞
–ë–æ—Ç **–ø—Ä–∞—Ü—é—î**, –∞–ª–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —è–∫ "Qwen" –∑–∞–º—ñ—Å—Ç—å "Helion".

Telegram –±–æ—Ç –æ—Ç—Ä–∏–º—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ‚úÖ  
Router –º–∞—Ä—à—Ä—É—Ç–∏–∑—É—î –∑–∞–ø–∏—Ç–∏ ‚úÖ  
Ollama –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î ‚úÖ  
**–ê–ª–µ**: Router **—ñ–≥–Ω–æ—Ä—É—î** `system_prompt` –≤—ñ–¥ Gateway ‚ùå

## üéØ –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏

### –§–∞–π–ª: `gateway-bot/http_api.py`

**–ó–Ω–∞–π–¥–∏ —Ñ—É–Ω–∫—Ü—ñ—é** `helion_telegram_webhook` (—Ä—è–¥–æ–∫ ~418)

**–ó–Ω–∞–π–¥–∏ –∑–º—ñ–Ω–Ω—É** `router_request` (—Ä—è–¥–æ–∫ ~453)

**–ü–æ—Ç–æ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê):**
```python
router_request = {
    "message": text,
    "mode": "chat",
    "agent": "helion",
    "metadata": {...},
    "payload": {"context": {    # ‚ùå –¢—É—Ç –ø–æ–º–∏–ª–∫–∞ indent!
        "agent_name": HELION_NAME,
        "system_prompt": HELION_SYSTEM_PROMPT,
        "memory": memory_context,
    },
    },
}
```

**–í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ü–†–ê–í–ò–õ–¨–ù–ê):**
```python
router_request = {
    "message": text,
    "mode": "chat",
    "agent": "helion",
    "metadata": {...},
    "payload": {
        "context": {           # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∏–π indent
            "agent_name": HELION_NAME,
            "system_prompt": HELION_SYSTEM_PROMPT,
            "memory": memory_context,
        }
    },
}
```

## üîç –ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏

Router –æ—á—ñ–∫—É—î —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```
payload ‚Üí context ‚Üí system_prompt
```

Gateway –∑–∞—Ä–∞–∑ –Ω–∞–¥—Å–∏–ª–∞—î:
```
payload ‚Üí "context": { ‚Üí context ‚Üí system_prompt  (–ø–æ–¥–≤—ñ–π–Ω–∞ –≤–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å!)
```

–¢—Ä–µ–±–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ indent, —â–æ–± `"context": {` –±—É–≤ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —Ä—ñ–≤–Ω—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ `"payload"`.

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

–ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ gateway
docker compose restart gateway

# –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≤ Telegram –±–æ—Ç—É:
"–•—Ç–æ —Ç–∏ —ñ —â–æ —Ç–∞–∫–µ EcoMiner?"

# –ú–∞—î –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ —â–æ—Å—å –ø—Ä–æ Helion —Ç–∞ Energy Union
# –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î "Qwen" - –Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
```

## üìù –í–∞–∂–ª–∏–≤–æ

- **–ù–ï** —Å—Ç–≤–æ—Ä—é–π –Ω–æ–≤–∏–π `helion_prompt.txt` - –≤—ñ–Ω –≤–∂–µ —ñ—Å–Ω—É—î ‚úÖ
- **–ù–ï** —Å—Ç–≤–æ—Ä—é–π –Ω–æ–≤–∏–π webhook endpoint - –≤—ñ–Ω –≤–∂–µ —î ‚úÖ  
- **–ù–ï** –∑–º—ñ–Ω—é–π –Ω—ñ—á–æ–≥–æ –∫—Ä—ñ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ `router_request` ‚úÖ
- –ü—Ä–æ—Å—Ç–æ –≤–∏–ø—Ä–∞–≤ **indent** –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ!

---

**–¶–µ –≤—Å–µ! –û–¥–Ω–∞ –ø—Ä–æ—Å—Ç–∞ –∑–º—ñ–Ω–∞ indent.**
