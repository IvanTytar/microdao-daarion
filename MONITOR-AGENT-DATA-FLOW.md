# üìä –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Ç–æ–∫—ñ–≤ –¥–∞–Ω–∏—Ö Monitor Agent

**–î–∞—Ç–∞:** 2025-11-23  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–∏—Ö –ø—Ä–∞—Ü—é—é—Ç—å

---

## üéØ –ó–∞–≥–∞–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –î–ñ–ï–†–ï–õ–ê –î–ê–ù–ò–•                                 ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. WebSocket –ø–æ–¥—ñ—ó (ws://localhost:8899/ws/events)              ‚îÇ
‚îÇ    - node_event, agent_event, system_event, project_event       ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ 2. Project Changes (projectChangeTracker)                       ‚îÇ
‚îÇ    - file, config, service, agent, deployment, git changes      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              –û–ë–†–û–ë–ö–ê –¢–ê –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ 1. –ó–∞–≥–∞–ª—å–Ω–∏–π Monitor Agent (DAARION)                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ    - –û—Ç—Ä–∏–º—É—î –í–°–Ü –ø–æ–¥—ñ—ó –∑ —É—Å—ñ—Ö –¥–∂–µ—Ä–µ–ª                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ    - –ì–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ mistral-nemo:12b        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ    - –ó–±–µ—Ä—ñ–≥–∞—î –≤ –∑–∞–≥–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—å: monitor                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                            ‚îÇ                                     ‚îÇ
‚îÇ                            ‚ñº                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ 2. Memory Service (PostgreSQL)                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                                                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  –ü–æ–¥–≤—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:                                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å:                                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ   - monitor-node-{node_id}                            ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ   - monitor-microdao-{microdao_id}                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ                                                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å:                                    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ      - monitor (–í–°–Ü –ø–æ–¥—ñ—ó –∑ —É—Å—ñ—Ö –Ω–æ–¥ —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û)         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              –í–Ü–î–û–ë–†–ê–ñ–ï–ù–ù–Ø –í –ß–ê–¢–ê–•                                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ MonitorChat (–ì–ª–æ–±–∞–ª—å–Ω–∏–π)                                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó (–Ω–µ —Ñ—ñ–ª—å—Ç—Ä—É—î)                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –†–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π –Ω–∞ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö                         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ NodeMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç–∏ –ù–û–î)                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –§—ñ–ª—å—Ç—Ä—É—î –ø–æ–¥—ñ—ó –ø–æ node_id                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ù–û–î–ò                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ MicroDaoMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç–∏ –º—ñ–∫—Ä–æ–î–ê–û)                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –§—ñ–ª—å—Ç—Ä—É—î –ø–æ–¥—ñ—ó –ø–æ microdao_id                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û           ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ DaarionMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç DAARION)                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó (–∞–≥—Ä–µ–≥–∞—Ü—ñ—è)                           ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ - –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ MonitorChat                                  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì• 1. –ù–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –¥–æ –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ Monitor Agent (DAARION)

### –î–∂–µ—Ä–µ–ª–∞ –¥–∞–Ω–∏—Ö:

#### A. WebSocket –ø–æ–¥—ñ—ó (`useMonitorEvents`)

**–§–∞–π–ª:** `src/hooks/useMonitorEvents.ts`

```typescript
// WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
const ws = new WebSocket('ws://localhost:8899/ws/events');

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–¥—ñ—ó
ws.onmessage = async (event) => {
  const monitorEvent: MonitorEvent = {
    timestamp: data.timestamp,
    type: data.type, // 'agent' | 'node' | 'system' | 'project'
    action: data.action,
    message: data.message,
    details: data.details,
    node_id: data.node_id,
  };
  
  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—å (–±–∞—Ç—á–∏–Ω–≥)
  await addMonitorEventToBatch(nodeId, {
    kind: eventKind,
    body_text: monitorEvent.message,
    body_json: { ...monitorEvent.details }
  });
};
```

**–©–æ –Ω–∞–¥—Ö–æ–¥–∏—Ç—å:**
- –ü–æ–¥—ñ—ó –∑ –Ω–æ–¥ (node_event)
- –ü–æ–¥—ñ—ó –∑ –∞–≥–µ–Ω—Ç—ñ–≤ (agent_event)
- –°–∏—Å—Ç–µ–º–Ω—ñ –ø–æ–¥—ñ—ó (system_event)
- –ü–æ–¥—ñ—ó –ø—Ä–æ—î–∫—Ç—É (project_event)

#### B. Project Changes (`projectChangeTracker`)

**–§–∞–π–ª:** `src/services/projectChangeTracker.ts`

```typescript
// –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω –ø—Ä–æ—î–∫—Ç—É
private async generateMonitorMessage(change: ProjectChange) {
  const baseMessage = this.formatChangeMessage(change);
  const monitorMessage = `ü§ñ **Monitor Agent –ø–æ–≤—ñ–¥–æ–º–ª—è—î:**\n\n${baseMessage}`;
  
  // –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—å Monitor Agent
  await this.saveToMonitorMemory(change, monitorMessage);
  
  // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–¥—ñ—ó –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ —á–∞—Ç—ñ
  this.emitChangeEvent(monitorMessage, change);
  
  // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ API (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
  await this.tryGenerateViaAPI(change, baseMessage);
}
```

**–©–æ –Ω–∞–¥—Ö–æ–¥–∏—Ç—å:**
- –ó–º—ñ–Ω–∏ —Ñ–∞–π–ª—ñ–≤ (file)
- –ó–º—ñ–Ω–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π (config)
- –ó–º—ñ–Ω–∏ —Å–µ—Ä–≤—ñ—Å—ñ–≤ (service)
- –ó–º—ñ–Ω–∏ –∞–≥–µ–Ω—Ç—ñ–≤ (agent)
- –î–µ–ø–ª–æ–π–º–µ–Ω—Ç–∏ (deployment)
- Git –∫–æ–º—ñ—Ç–∏ (git)

### –û–±—Ä–æ–±–∫–∞ –∑–∞–≥–∞–ª—å–Ω–∏–º Monitor Agent:

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

```python
# –ó–∞–≥–∞–ª—å–Ω–∏–π Monitor Agent –æ—Ç—Ä–∏–º—É—î –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ –∑–∞–≥–∞–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ
async def get_monitor_memory_context(
    node_id: Optional[str] = None,
    microdao_id: Optional[str] = None,
    limit: int = 10
) -> str:
    # 1. –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å (–¥–ª—è –≤—Å—ñ—Ö Monitor Agent)
    response = await client.get(
        f"{MEMORY_SERVICE_URL}/agents/monitor/memory",
        params={"limit": limit // 2}
    )
    
    # 2. –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å (—è–∫—â–æ –≤–∫–∞–∑–∞–Ω–∞)
    if node_id:
        agent_id = f"monitor-node-{node_id}"
    elif microdao_id:
        agent_id = f"monitor-microdao-{microdao_id}"
    
    # –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —á–µ—Ä–µ–∑ mistral-nemo:12b
    response = await client.post(
        f"{OLLAMA_BASE_URL}/api/generate",
        json={"model": "mistral-nemo:12b", "prompt": full_prompt}
    )
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ó–∞–≥–∞–ª—å–Ω–∏–π Monitor Agent –æ—Ç—Ä–∏–º—É—î –í–°–Ü –ø–æ–¥—ñ—ó
- ‚úÖ –ì–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ LLM
- ‚úÖ –ó–±–µ—Ä—ñ–≥–∞—î –≤ –∑–∞–≥–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—å `monitor`

---

## üíæ 2. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –∑–∞–≥–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—å –∞–≥–µ–Ω—Ç—ñ–≤ Monitor —Å–µ—Ä–≤—ñ—Å—É

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:

**–§–∞–π–ª:** `services/memory-service/app/monitor_events.py`

```python
async def save_monitor_events_batch(
    batch: MonitorEventBatch,
    db: Session
) -> MonitorEventResponse:
    # –í–∏–∑–Ω–∞—á–∞—î–º–æ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π agent_id
    specific_agent_id = f"monitor-node-{batch.node_id}"
    
    # –ó–∞–≥–∞–ª—å–Ω–∏–π agent_id –¥–ª—è –≤—Å—ñ—Ö Monitor Agent
    global_agent_id = "monitor"
    
    for event_data in batch.events:
        # 1. –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –ø–∞–º'—è—Ç—å
        specific_event = AgentMemoryEventCreate(
            agent_id=specific_agent_id,  # monitor-node-{node_id}
            body_text=event_data.get("body_text", ""),
            body_json=event_data.get("body_json", {})
        )
        create_agent_memory_event(db, specific_event)
        
        # 2. –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ –∑–∞–≥–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—å
        global_event = AgentMemoryEventCreate(
            agent_id=global_agent_id,  # monitor
            body_text=event_data.get("body_text", ""),
            body_json={
                **event_data.get("body_json", {}),
                "source_node": batch.node_id,  # –î–æ–¥–∞—î–º–æ –¥–∂–µ—Ä–µ–ª–æ
                "specific_agent_id": specific_agent_id
            }
        )
        create_agent_memory_event(db, global_event)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–º'—è—Ç—ñ:

#### A. –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å (–¥–ª—è –∫–æ–∂–Ω–æ—ó –ù–û–î–ò/–º—ñ–∫—Ä–æ–î–ê–û):

```
monitor-node-node-1
  ‚îú‚îÄ‚îÄ –ü–æ–¥—ñ—ó –∑ –ù–û–î–ê1
  ‚îî‚îÄ‚îÄ –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ agent_memory_events

monitor-node-node-2
  ‚îú‚îÄ‚îÄ –ü–æ–¥—ñ—ó –∑ –ù–û–î–ê2
  ‚îî‚îÄ‚îÄ –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ agent_memory_events

monitor-microdao-daarion-dao
  ‚îú‚îÄ‚îÄ –ü–æ–¥—ñ—ó –∑ DAARION MicroDAO
  ‚îî‚îÄ‚îÄ –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ agent_memory_events
```

#### B. –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å (–¥–ª—è –≤—Å—ñ—Ö Monitor Agent):

```
monitor
  ‚îú‚îÄ‚îÄ –í–°–Ü –ø–æ–¥—ñ—ó –∑ —É—Å—ñ—Ö –ù–û–î —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û
  ‚îú‚îÄ‚îÄ body_json.source_node - –¥–∂–µ—Ä–µ–ª–æ –ø–æ–¥—ñ—ó
  ‚îú‚îÄ‚îÄ body_json.specific_agent_id - —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π agent_id
  ‚îî‚îÄ‚îÄ –ó–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ —Ç–∞–±–ª–∏—Ü—ñ agent_memory_events
```

### –ë–∞—Ç—á–∏–Ω–≥ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:

**–§–∞–π–ª:** `src/api/monitorMemory.ts`

```typescript
// –ë–∞—Ç—á –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π
const BATCH_SIZE = 10; // –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –±–∞—Ç—á –∫–æ–∂–Ω—ñ 10 –ø–æ–¥—ñ–π
const BATCH_TIMEOUT = 5000; // –ê–±–æ –∫–æ–∂–Ω—ñ 5 —Å–µ–∫—É–Ω–¥

export async function addMonitorEventToBatch(
  nodeId: string,
  event: Omit<MonitorEvent, 'node_id'>
): Promise<void> {
  eventBatch.push(fullEvent);
  
  // –Ø–∫—â–æ –±–∞—Ç—á –¥–æ—Å—è–≥ —Ä–æ–∑–º—ñ—Ä—É, –∑–±–µ—Ä—ñ–≥–∞—î–º–æ
  if (eventBatch.length >= BATCH_SIZE) {
    await flushMonitorEventBatch();
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–¥–≤—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è: —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ + –∑–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å
- ‚úÖ –ë–∞—Ç—á–∏–Ω–≥ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó (10 –ø–æ–¥—ñ–π –∞–±–æ 5 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –í—Å—ñ –ø–æ–¥—ñ—ó –¥–æ—Å—Ç—É–ø–Ω—ñ –≤ –∑–∞–≥–∞–ª—å–Ω—ñ–π –ø–∞–º'—è—Ç—ñ `monitor`

---

## üí¨ 3. –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –≤–ª–∞—Å–Ω–∏—Ö —á–∞—Ç–∞—Ö –∫–æ–∂–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è:

#### A. MonitorChat (–ì–ª–æ–±–∞–ª—å–Ω–∏–π - –í–°–Ü –ø–æ–¥—ñ—ó)

**–§–∞–π–ª:** `src/components/monitor/MonitorChat.tsx`

```typescript
export function MonitorChat() {
  const { events, isConnected } = useMonitorEvents();
  
  // –î–æ–¥–∞—î–º–æ –ø–æ–¥—ñ—ó –≤—ñ–¥ Monitor Agent —è–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
  // –ì–æ–ª–æ–≤–Ω–∏–π MonitorChat –ø–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó (–Ω–µ —Ñ—ñ–ª—å—Ç—Ä—É—î)
  useEffect(() => {
    if (events.length > 0 && isOpen) {
      events.forEach((event) => {
        const eventMessage: ChatMessage = {
          id: `event-${event.timestamp}-${event.action}`,
          role: 'assistant',
          content: `üìä ${getEventIcon(event.type)} ${event.message}`,
          timestamp: event.timestamp,
        };
        
        setMessages((prev) => {
          const newMessages = [...prev, eventMessage];
          return newMessages.slice(-100); // –ú–∞–∫—Å–∏–º—É–º 100 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
        });
      });
    }
  }, [events, isOpen]);
}
```

**–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:**
- ‚úÖ –í—Å—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (—á–µ—Ä–µ–∑ `App.tsx`)
- ‚úÖ –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó –∑ —É—Å—ñ—Ö –ù–û–î —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û
- ‚úÖ –ù–µ —Ñ—ñ–ª—å—Ç—Ä—É—î –ø–æ–¥—ñ—ó

#### B. NodeMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç–∏ –ù–û–î - —Ñ—ñ–ª—å—Ç—Ä –ø–æ node_id)

**–§–∞–π–ª:** `src/components/monitor/NodeMonitorChat.tsx`

```typescript
export function NodeMonitorChat({ nodeId, nodeName }: NodeMonitorChatProps) {
  const { events, isConnected } = useMonitorEvents();
  
  // –§—ñ–ª—å—Ç—Ä—É—î–º–æ –ø–æ–¥—ñ—ó —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—ñ—î—ó –Ω–æ–¥–∏
  const nodeEvents = events.filter(event => event.node_id === nodeId);
  
  // –î–æ–¥–∞—î–º–æ –ø–æ–¥—ñ—ó –≤—ñ–¥ Monitor Agent —è–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
  useEffect(() => {
    if (nodeEvents.length > 0 && isOpen) {
      const latestEvent = nodeEvents[0];
      const eventMessage: ChatMessage = {
        id: `event-${latestEvent.timestamp}`,
        role: 'assistant',
        content: `üìä ${getEventIcon(latestEvent.type)} ${latestEvent.message}`,
        timestamp: latestEvent.timestamp,
      };
      
      setMessages((prev) => {
        const newMessages = [...prev, eventMessage];
        return newMessages.slice(-50); // –ú–∞–∫—Å–∏–º—É–º 50 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
      });
    }
  }, [nodeEvents, isOpen]);
}
```

**–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:**
- ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç –ù–û–î–ê1 (`/nodes/node-1-hetzner-gex44`)
- ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç –ù–û–î–ê2 (`/nodes/node-2-macbook-m4max`)
- ‚úÖ –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ù–û–î–ò
- ‚úÖ –§—ñ–ª—å—Ç—Ä—É—î –ø–æ `node_id`

#### C. MicroDaoMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç–∏ –º—ñ–∫—Ä–æ–î–ê–û - —Ñ—ñ–ª—å—Ç—Ä –ø–æ microdao_id)

**–§–∞–π–ª:** `src/components/monitor/MicroDaoMonitorChat.tsx`

```typescript
export function MicroDaoMonitorChat({ microDaoId, microDaoName }: MicroDaoMonitorChatProps) {
  const { events, isConnected } = useMonitorEvents();
  
  // –§—ñ–ª—å—Ç—Ä—É—î–º–æ –ø–æ–¥—ñ—ó —Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ü—å–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û
  const microDaoEvents = events.filter(event => 
    event.details?.team_id === microDaoId || 
    event.details?.microdao_id === microDaoId
  );
  
  // –î–æ–¥–∞—î–º–æ –ø–æ–¥—ñ—ó –≤—ñ–¥ Monitor Agent —è–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
  useEffect(() => {
    if (microDaoEvents.length > 0 && isOpen) {
      const latestEvent = microDaoEvents[0];
      const eventMessage: ChatMessage = {
        id: `event-${latestEvent.timestamp}`,
        role: 'assistant',
        content: `üìä ${getEventIcon(latestEvent.type)} ${latestEvent.message}`,
        timestamp: latestEvent.timestamp,
      };
      
      setMessages((prev) => {
        const newMessages = [...prev, eventMessage];
        return newMessages.slice(-50); // –ú–∞–∫—Å–∏–º—É–º 50 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
      });
    }
  }, [microDaoEvents, isOpen]);
}
```

**–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:**
- ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç DAARION MicroDAO (`/microdao/daarion`)
- ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç GREENFOOD MicroDAO (`/microdao/greenfood`)
- ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç ENERGY UNION MicroDAO (`/microdao/energy-union`)
- ‚úÖ –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û
- ‚úÖ –§—ñ–ª—å—Ç—Ä—É—î –ø–æ `microdao_id` –∞–±–æ `team_id`

#### D. DaarionMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç DAARION - –í–°–Ü –ø–æ–¥—ñ—ó)

**–§–∞–π–ª:** `src/components/monitor/DaarionMonitorChat.tsx`

```typescript
export function DaarionMonitorChat() {
  const { events, isConnected } = useMonitorEvents();
  
  // DaarionMonitorChat –ø–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó (–∞–≥—Ä–µ–≥–∞—Ü—ñ—è –∑ —É—Å—ñ—Ö –ù–û–î —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û)
  // –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ MonitorChat, –∞–ª–µ –≤ –∫–∞–±—ñ–Ω–µ—Ç—ñ DAARION
}
```

**–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:**
- ‚úÖ –ö–∞–±—ñ–Ω–µ—Ç DAARION (`/microdao/daarion`)
- ‚úÖ –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó (–∞–≥—Ä–µ–≥–∞—Ü—ñ—è)
- ‚úÖ –ê–Ω–∞–ª–æ–≥—ñ—á–Ω–æ MonitorChat

#### E. DagiMonitorPage (–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É)

**–§–∞–π–ª:** `src/pages/DagiMonitorPage.tsx`

```typescript
export function DagiMonitorPage() {
  const { events, isConnected } = useMonitorEvents();
  
  // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ MonitorEvent –≤ ProjectChange –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
  useEffect(() => {
    if (events.length > 0) {
      const latestEvent = events[0];
      
      // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ –ø–æ–¥—ñ—é –≤ ProjectChange
      const projectChange: ProjectChange = {
        id: `change-${latestEvent.timestamp}`,
        type: latestEvent.type,
        action: latestEvent.action,
        path: latestEvent.details?.path || '',
        description: latestEvent.message,
        timestamp: latestEvent.timestamp,
        details: {
          node_id: latestEvent.node_id,
          ...latestEvent.details,
        },
      };
      
      // –î–æ–¥–∞—î–º–æ –¥–æ projectChangeTracker –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
      projectChangeTracker.addChange(projectChange);
    }
  }, [events]);
  
  // –û–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ–π –ø—Ä–æ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É (–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ Monitor Agent)
  useEffect(() => {
    const handleProjectChange = (customEvent: CustomEvent) => {
      const changeMessage = customEvent.detail as ProjectChange;
      const message = changeMessage.description || '';
      
      // –î–æ–¥–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–∞—Ç
      const monitorMessage = `ü§ñ **Monitor Agent –ø–æ–≤—ñ–¥–æ–º–ª—è—î:**\n\n${message}`;
      
      setMessages((prev) => {
        const newMessages = [{
          id: changeMessage.id,
          role: 'assistant',
          content: monitorMessage,
          timestamp: changeMessage.timestamp,
        }, ...prev]; // –ù–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–≤–µ—Ä—Ö—É
        
        return newMessages.slice(0, 100);
      });
    };
    
    window.addEventListener('project-change', handleProjectChange);
    return () => window.removeEventListener('project-change', handleProjectChange);
  }, []);
}
```

**–î–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è:**
- ‚úÖ –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É (`/dagi-monitor`)
- ‚úÖ –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó
- ‚úÖ –ì–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Monitor Agent API

---

## üîÑ –ü–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö

### –ü—Ä–∏–∫–ª–∞–¥: –ü–æ–¥—ñ—è –∑ –ù–û–î–ê1

```
1. WebSocket –ø–æ–¥—ñ—è –Ω–∞–¥—Ö–æ–¥–∏—Ç—å
   ‚îî‚îÄ> useMonitorEvents –æ—Ç—Ä–∏–º—É—î –ø–æ–¥—ñ—é
       ‚îî‚îÄ> addMonitorEventToBatch(node-1, event)
           ‚îî‚îÄ> flushMonitorEventBatch()
               ‚îî‚îÄ> POST /api/memory/monitor-events/batch
                   ‚îî‚îÄ> Memory Service –∑–±–µ—Ä—ñ–≥–∞—î:
                       ‚îú‚îÄ‚îÄ monitor-node-node-1 (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å)
                       ‚îî‚îÄ‚îÄ monitor (–∑–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å)

2. Project Change –Ω–∞–¥—Ö–æ–¥–∏—Ç—å
   ‚îî‚îÄ> projectChangeTracker.addChange(change)
       ‚îî‚îÄ> generateMonitorMessage(change)
           ‚îú‚îÄ‚îÄ saveToMonitorMemory() ‚Üí POST /api/agent/monitor/memory
           ‚îÇ   ‚îî‚îÄ> Memory Service –∑–±–µ—Ä—ñ–≥–∞—î –≤ monitor
           ‚îî‚îÄ‚îÄ emitChangeEvent() ‚Üí CustomEvent('project-change')
               ‚îî‚îÄ> –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ —á–∞—Ç–∞—Ö

3. –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ —á–∞—Ç–∞—Ö
   ‚îú‚îÄ‚îÄ MonitorChat (–≥–ª–æ–±–∞–ª—å–Ω–∏–π)
   ‚îÇ   ‚îî‚îÄ> –ü–æ–∫–∞–∑—É—î –ø–æ–¥—ñ—é (–Ω–µ —Ñ—ñ–ª—å—Ç—Ä—É—î)
   ‚îÇ
   ‚îú‚îÄ‚îÄ NodeMonitorChat (–∫–∞–±—ñ–Ω–µ—Ç –ù–û–î–ê1)
   ‚îÇ   ‚îî‚îÄ> –§—ñ–ª—å—Ç—Ä—É—î –ø–æ node_id === 'node-1'
   ‚îÇ       ‚îî‚îÄ> –ü–æ–∫–∞–∑—É—î –ø–æ–¥—ñ—é
   ‚îÇ
   ‚îú‚îÄ‚îÄ NodeMonitorChat (–∫–∞–±—ñ–Ω–µ—Ç –ù–û–î–ê2)
   ‚îÇ   ‚îî‚îÄ> –§—ñ–ª—å—Ç—Ä—É—î –ø–æ node_id === 'node-2'
   ‚îÇ       ‚îî‚îÄ> –ù–ï –ø–æ–∫–∞–∑—É—î –ø–æ–¥—ñ—é (—ñ–Ω—à–∞ –Ω–æ–¥–∞)
   ‚îÇ
   ‚îî‚îÄ‚îÄ MicroDaoMonitorChat (–∫–∞–±—ñ–Ω–µ—Ç–∏ –º—ñ–∫—Ä–æ–î–ê–û)
       ‚îî‚îÄ> –§—ñ–ª—å—Ç—Ä—É—î –ø–æ microdao_id
           ‚îî‚îÄ> –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û
```

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫

### 1. –ó–∞–≥–∞–ª—å–Ω–∏–π Monitor Agent (DAARION)

‚úÖ **–û—Ç—Ä–∏–º—É—î:**
- –í–°–Ü WebSocket –ø–æ–¥—ñ—ó –∑ —É—Å—ñ—Ö –ù–û–î —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û
- –í–°–Ü Project Changes –∑ –ø—Ä–æ—î–∫—Ç—É
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑ –∑–∞–≥–∞–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ `monitor`

‚úÖ **–ì–µ–Ω–µ—Ä—É—î:**
- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ `mistral-nemo:12b`
- –ó–±–µ—Ä—ñ–≥–∞—î –≤ –∑–∞–≥–∞–ª—å–Ω—É –ø–∞–º'—è—Ç—å `monitor`

### 2. –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å –∞–≥–µ–Ω—Ç—ñ–≤ Monitor —Å–µ—Ä–≤—ñ—Å—É

‚úÖ **–ó–±–µ—Ä—ñ–≥–∞—î:**
- –ü–æ–¥–≤—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:
  - –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å: `monitor-node-{node_id}` –∞–±–æ `monitor-microdao-{microdao_id}`
  - –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å: `monitor` (–í–°–Ü –ø–æ–¥—ñ—ó)

‚úÖ **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:**
- –ë–∞—Ç—á–∏–Ω–≥: 10 –ø–æ–¥—ñ–π –∞–±–æ 5 —Å–µ–∫—É–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è

### 3. –í–ª–∞—Å–Ω—ñ —á–∞—Ç–∏ –∫–æ–∂–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

‚úÖ **MonitorChat (–ì–ª–æ–±–∞–ª—å–Ω–∏–π):**
- –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó
- –†–æ–∑—Ç–∞—à–æ–≤–∞–Ω–∏–π –Ω–∞ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö

‚úÖ **NodeMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç–∏ –ù–û–î):**
- –§—ñ–ª—å—Ç—Ä—É—î –ø–æ `node_id`
- –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ù–û–î–ò

‚úÖ **MicroDaoMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç–∏ –º—ñ–∫—Ä–æ–î–ê–û):**
- –§—ñ–ª—å—Ç—Ä—É—î –ø–æ `microdao_id` –∞–±–æ `team_id`
- –ü–æ–∫–∞–∑—É—î —Ç—ñ–ª—å–∫–∏ –ø–æ–¥—ñ—ó –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û

‚úÖ **DaarionMonitorChat (–ö–∞–±—ñ–Ω–µ—Ç DAARION):**
- –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó (–∞–≥—Ä–µ–≥–∞—Ü—ñ—è)

‚úÖ **DagiMonitorPage (–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞):**
- –ü–æ–∫–∞–∑—É—î –í–°–Ü –ø–æ–¥—ñ—ó
- –ì–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Monitor Agent API

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å—ñ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–∏—Ö –ø—Ä–∞—Ü—é—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
**–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è:** ‚úÖ –ü–æ–¥–≤—ñ–π–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î  
**–í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è:** ‚úÖ –í—Å—ñ —á–∞—Ç–∏ –ø–æ–∫–∞–∑—É—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø–æ–¥—ñ—ó

