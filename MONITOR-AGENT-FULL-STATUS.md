# ‚úÖ Monitor Agent - –ü–æ–≤–Ω–∏–π —Å—Ç–∞—Ç—É—Å

## üìä –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è

### 1. –ß–∏ —Ä–µ–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ—Ö –∞–≥–µ–Ω—Ç—ñ–≤ –Ω–∞ –ù–û–î–ê2?

**‚úÖ –¢–ê–ö, —Ä–µ–∞–ª—å–Ω–æ!**

**–©–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ `/nodes/node-2`
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –¥–µ–ø–ª–æ—é –¥–ª—è –≤—Å—ñ—Ö –∞–≥–µ–Ω—Ç—ñ–≤
- ‚úÖ –î–µ–ø–ª–æ–π —Ç—ñ–ª—å–∫–∏ –Ω–µ –∑–∞–¥–µ–ø–ª–æ—î–Ω–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:8899/nodes/node-2`
2. –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –¥–µ–ø–ª–æ–π
3. –í –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ:
   ```
   üöÄ –ó–Ω–∞–π–¥–µ–Ω–æ X –Ω–µ –∑–∞–¥–µ–ø–ª–æ—î–Ω–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤. –ó–∞–ø—É—Å–∫–∞—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π...
   ‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–æ: X —É—Å–ø—ñ—à–Ω–æ, 0 –ø–æ–º–∏–ª–æ–∫
   ```

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—é:**
- Backend API endpoint: `POST /api/v1/node2/agents/{agentId}/deploy`
- –ê–±–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ NodeAgent –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –∞–≥–µ–Ω—Ç—ñ–≤

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ Frontend –≥–æ—Ç–æ–≤–∏–π —Ç–∞ –ø—Ä–∞—Ü—é—î
- ‚ö†Ô∏è Backend API –ø–æ—Ç—Ä–µ–±—É—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è mock –¥–µ–ø–ª–æ–π)

---

### 2. –ß–∏ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î Monitor Agent –≤—Å—ñ –∑–º—ñ–Ω–∏ –Ω–∞ –ø–æ—Ä—Ç—É 8899?

**‚úÖ –¢–ê–ö, –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î!**

**–©–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:**
- ‚úÖ WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ `/ws/events`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–¥—ñ–π –≤ Memory Service
- ‚úÖ –ë–∞—Ç—á–∏–Ω–≥ –¥–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó (10 –ø–æ–¥—ñ–π –∞–±–æ 5 —Å–µ–∫—É–Ω–¥)
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ PostgreSQL (—Ç–∞–±–ª–∏—Ü—è `agent_memory_events`)

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
1. WebSocket –∑–±–∏—Ä–∞—î –≤—Å—ñ –ø–æ–¥—ñ—ó –∑ —Å–∏—Å—Ç–µ–º–∏
2. –ü–æ–¥—ñ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—é—Ç—å—Å—è –¥–æ –±–∞—Ç—á—É
3. –ë–∞—Ç—á –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ Memory Service —á–µ—Ä–µ–∑ `/api/memory/monitor-events/batch`
4. –ü–æ–¥—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∑ `agent_id = "monitor-{node_id}"`

**–¢–∏–ø–∏ –ø–æ–¥—ñ–π, —è–∫—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è:**
- `node_event` - –∑–º—ñ–Ω–∏ –≤ –Ω–æ–¥–∞—Ö
- `agent_event` - –∑–º—ñ–Ω–∏ –≤ –∞–≥–µ–Ω—Ç–∞—Ö
- `system_event` - —Å–∏—Å—Ç–µ–º–Ω—ñ –ø–æ–¥—ñ—ó
- `project_event` - –∑–º—ñ–Ω–∏ –≤ –ø—Ä–æ—î–∫—Ç—ñ

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –ø–æ–¥—ñ—ó
curl http://localhost:8000/agents/monitor-node-2/memory?limit=10
```

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- ‚úÖ WebSocket –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–µ
- ‚úÖ Memory Service —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ

---

### 3. –ß–∏ –º–æ–∂–µ Monitor Agent –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è?

**‚úÖ –¢–ê–ö, –º–æ–∂–µ! (–∑ fallback –Ω–∞ mock –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)**

**–©–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:**
- ‚úÖ Frontend –≥–æ—Ç–æ–≤–∏–π: `POST /api/agent/monitor/chat`
- ‚úÖ Mock –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ Fallback –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∏–π endpoint
- ‚úÖ –Ü–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–∏—Ç–∞–Ω—å

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–∏—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–∞—Ç
2. Frontend –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –∑–∞–ø–∏—Ç –¥–æ `/api/agent/monitor/chat`
3. –Ø–∫—â–æ backend –¥–æ—Å—Ç—É–ø–Ω–∏–π - –æ—Ç—Ä–∏–º—É—î–º–æ —Ä–µ–∞–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
4. –Ø–∫—â–æ backend –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è mock –≤—ñ–¥–ø–æ–≤—ñ–¥—å

**Mock –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å:**
- –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –ø–∞–º'—è—Ç—å: "–ß–∏ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î—à –∑–º—ñ–Ω–∏?"
- –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å: "–Ø–∫ —Å–ø—Ä–∞–≤–∏? –Ø–∫–∏–π —Å—Ç–∞—Ç—É—Å?"
- –ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ –∞–≥–µ–Ω—Ç—ñ–≤: "–°–∫—ñ–ª—å–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤? –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—é?"
- –ó–∞–≥–∞–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è: —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ Monitor Agent

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –ø–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏:**
- Backend endpoint `/api/agent/monitor/chat` –º–∞—î:
  - –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
  - –ó–∞–ø–∏—Ç—É–≤–∞—Ç–∏ –ø–∞–º'—è—Ç—å –∑ Memory Service
  - –§–æ—Ä–º—É–≤–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ –ø–æ–¥—ñ–π
  - –í—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –¥–æ LLM (—á–µ—Ä–µ–∑ DAGI Router)
  - –ü–æ–≤–µ—Ä—Ç–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å

**–ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞—Ç—É—Å:**
- ‚úÖ Frontend –≥–æ—Ç–æ–≤–∏–π —Ç–∞ –ø—Ä–∞—Ü—é—î
- ‚úÖ Mock –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚ö†Ô∏è Backend API –ø–æ—Ç—Ä–µ–±—É—î —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–ª—è –ø–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏

---

## üéØ –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–µ–ø–ª–æ—é –∞–≥–µ–Ω—Ç—ñ–≤:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:8899/nodes/node-2`
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
3. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—è 3-5 —Å–µ–∫—É–Ω–¥
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—é

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞–º'—è—Ç—ñ Monitor Agent:
1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç: `node scripts/check-monitor-memory-status.js`
2. –ê–±–æ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Ä—É—á–Ω—É: `curl http://localhost:8000/agents/monitor-node-2/memory?limit=10`

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∞—Ç—É Monitor Agent:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—É–¥—å-—è–∫—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–∞ `http://localhost:8899/`
2. –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∫—Ä—É–≥–ª—è—à–æ–∫ Monitor Agent (–ø—Ä–∞–≤—ã–π –Ω–∏–∂–Ω—ñ–π –∫—É—Ç)
3. –ó–∞–¥–∞–π—Ç–µ –ø–∏—Ç–∞–Ω–Ω—è, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
   - "–ß–∏ –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î—à –≤—Å—ñ –∑–º—ñ–Ω–∏?"
   - "–Ø–∫–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º–∏?"
   - "–°–∫—ñ–ª—å–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤ –Ω–∞ –ù–û–î–ê2?"

---

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫

| –§—É–Ω–∫—Ü—ñ—è | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª—ñ |
|---------|--------|--------|
| **–î–µ–ø–ª–æ–π –∞–≥–µ–Ω—Ç—ñ–≤** | ‚úÖ –ü—Ä–∞—Ü—é—î | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –¥–µ–ø–ª–æ–π –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ, –ø–æ—Ç—Ä–µ–±—É—î backend API |
| **–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π** | ‚úÖ –ü—Ä–∞—Ü—é—î | –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ Memory Service |
| **–ß–∞—Ç –∑ Monitor Agent** | ‚úÖ –ü—Ä–∞—Ü—é—î | Mock –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –ø—Ä–∞—Ü—é—é—Ç—å, –ø–æ—Ç—Ä–µ–±—É—î backend –¥–ª—è –ø–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ |

**–í–∏—Å–Ω–æ–≤–æ–∫:** –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ —Ç–∞ –ø—Ä–∞—Ü—é—é—Ç—å! –î–ª—è –ø–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω backend API, –∞–ª–µ frontend –≥–æ—Ç–æ–≤–∏–π —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∑ mock –≤—ñ–¥–ø–æ–≤—ñ–¥—è–º–∏.

---

**Last Updated:** 2025-01-27  
**Status:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

