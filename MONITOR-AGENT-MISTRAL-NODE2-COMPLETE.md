# ‚úÖ Monitor Agent - –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Mistral –Ω–∞ –ù–û–î–ê2 –∑–∞–≤–µ—Ä—à–µ–Ω–æ

## üéØ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Mistral –Ω–∞ –ù–û–î–ê2

**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:**
- ‚úÖ Ollama URL: `http://192.168.1.244:11434` (–ù–û–î–ê2)
- ‚úÖ –ú–æ–¥–µ–ª—å: `mistral:7b` (4.1 GB) - –º–µ–Ω—à–∞ –º–æ–¥–µ–ª—å –¥–ª—è –Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ù–û–î–ê2
- ‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∏: `mistral:latest` (4.1 GB), `mistral-nemo:12b` (7.1 GB)

**–ß–æ–º—É –º–µ–Ω—à–∞ –º–æ–¥–µ–ª—å?**
- `mistral:7b` (4.1 GB) –¥–æ—Å—Ç–∞—Ç–Ω—è –¥–ª—è Monitor Agent
- –ù–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É—î –ù–û–î–ê2 –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω—ñ–π —Ä–æ–±–æ—Ç—ñ –∑ —ñ–Ω—à–∏–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏
- –®–≤–∏–¥—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### 2. –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–º'—è—Ç—ñ

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

1. **–ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å:** `monitor`
   - –í—Å—ñ –ø–æ–¥—ñ—ó —Å–∏—Å—Ç–µ–º–∏
   - –ê–≥—Ä–µ–≥–∞—Ü—ñ—è –∑ —É—Å—ñ—Ö –ù–û–î —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û
   - –î–æ—Å—Ç—É–ø–Ω–∞ –≤—Å—ñ–º Monitor Agent

2. **–ü–∞–º'—è—Ç—å –¥–ª—è –ù–û–î–ò:** `monitor-node-{node_id}`
   - –ü–æ–¥—ñ—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –ù–û–î–ò
   - –î–æ—Å—Ç—É–ø–Ω–∞ Monitor Agent —Ü—ñ—î—ó –Ω–æ–¥–∏

3. **–ü–∞–º'—è—Ç—å –¥–ª—è –º—ñ–∫—Ä–æ–î–ê–û:** `monitor-microdao-{microdao_id}`
   - –ü–æ–¥—ñ—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û
   - –î–æ—Å—Ç—É–ø–Ω–∞ Monitor Agent —Ü—å–æ–≥–æ –º—ñ–∫—Ä–æ–î–ê–û

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
- Monitor Agent –æ—Ç—Ä–∏–º—É—î –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ –æ–±–æ—Ö —Ç–∏–ø—ñ–≤ –ø–∞–º'—è—Ç—ñ
- 50% –∑ –∑–∞–≥–∞–ª—å–Ω–æ—ó –ø–∞–º'—è—Ç—ñ (`monitor`)
- 50% –∑—ñ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ—ó –ø–∞–º'—è—Ç—ñ (`monitor-node-{node_id}` –∞–±–æ `monitor-microdao-{microdao_id}`)

### 3. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø–æ–¥—ñ–π

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è:**
- –ü–æ–¥—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –æ–±–∏–¥–≤—ñ –ø–∞–º'—è—Ç—ñ:
  - –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å (monitor-node-{node_id} –∞–±–æ monitor-microdao-{microdao_id})
  - –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å (monitor) - –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó

**–ë–∞—Ç—á–∏–Ω–≥:**
- 10 –ø–æ–¥—ñ–π –∞–±–æ 5 —Å–µ–∫—É–Ω–¥
- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ –¥–ª—è –∑–±–æ—Ä—É –º–µ—Ç—Ä–∏–∫ –∑ –±–∞–≥–∞—Ç—å–æ—Ö –Ω–æ–¥

## üìä –ü–æ—Ç–æ—á–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

### Monitor Agent Service

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:**
```python
OLLAMA_BASE_URL = "http://192.168.1.244:11434"  # –ù–û–î–ê2
MISTRAL_MODEL = "mistral:7b"  # –ú–µ–Ω—à–∞ –º–æ–¥–µ–ª—å
```

### Memory Service

**–§–∞–π–ª:** `services/memory-service/app/monitor_events.py`

**–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è:**
- –ü–æ–¥—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –æ–±–∏–¥–≤—ñ –ø–∞–º'—è—Ç—ñ
- –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å –¥–ª—è –Ω–æ–¥–∏/–º—ñ–∫—Ä–æ–î–ê–û
- –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å –¥–ª—è –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó

## ‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏

1. **–ú–µ–Ω—à–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ù–û–î–ê2**
   - 4.1 GB –∑–∞–º—ñ—Å—Ç—å 7.1 GB
   - –®–≤–∏–¥—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
   - –ú–µ–Ω—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è RAM

2. **–î–æ—Å—Ç–∞—Ç–Ω—è —è–∫—ñ—Å—Ç—å**
   - Mistral 7B –¥–æ—Å—Ç–∞—Ç–Ω—è –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É
   - –®–≤–∏–¥–∫—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
   - –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

3. **–ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∞ –ø–∞–º'—è—Ç—å**
   - –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —Å–∏—Å—Ç–µ–º–∏
   - –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
   - –ë—ñ–ª—å—à —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å Ollama –Ω–∞ –ù–û–î–ê2
curl http://192.168.1.244:11434/api/tags

# 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ —î mistral:7b
curl http://192.168.1.244:11434/api/tags | grep mistral

# 3. –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏
ssh user@192.168.1.244
ollama pull mistral:7b

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Monitor Agent Service
cd services/monitor-agent-service
python -m uvicorn app.main:app --host 0.0.0.0 --port 9500 --reload
```

## üìã Environment Variables

```bash
# .env —Ñ–∞–π–ª
OLLAMA_BASE_URL=http://192.168.1.244:11434
MISTRAL_MODEL=mistral:7b
MEMORY_SERVICE_URL=http://localhost:8000
```

## ‚úÖ –°—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª—ñ |
|-----------|--------|--------|
| **–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ù–û–î–ê2** | ‚úÖ –ì–æ—Ç–æ–≤–æ | Ollama –Ω–∞ 192.168.1.244:11434 |
| **–ú–æ–¥–µ–ª—å Mistral** | ‚úÖ –ì–æ—Ç–æ–≤–æ | mistral:7b (4.1 GB) |
| **–ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å** | ‚úÖ –ì–æ—Ç–æ–≤–æ | monitor - –≤—Å—ñ –ø–æ–¥—ñ—ó |
| **–°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å** | ‚úÖ –ì–æ—Ç–æ–≤–æ | monitor-node-{node_id}, monitor-microdao-{microdao_id} |
| **–ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** | ‚úÖ –ì–æ—Ç–æ–≤–æ | 50% –∑–∞–≥–∞–ª—å–Ω–∞ + 50% —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ |

---

**Last Updated:** 2025-01-27  
**Status:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

