# ‚úÖ Monitor Agent - –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö

**–î–∞—Ç–∞:** 2025-11-23  
**–ü—Ä–æ–±–ª–µ–º–∞:** Monitor Agent –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ –Ω–µ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ —Ç–∞ –¥–∞–Ω–∏–º–∏ –∑–º—ñ–Ω  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üîç –ü—Ä–æ–±–ª–µ–º–∞

Monitor Agent –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ –∑–∞–≥–∞–ª—å–Ω–∏–º–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ —Ç–∞ –≤–∏–≥–∞–¥–∞–Ω–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∑–∞–º—ñ—Å—Ç—å —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –∑ —Å–∏—Å—Ç–µ–º–∏.

### –ü—Ä–∏—á–∏–Ω–∏:

1. **–ù–µ –æ—Ç—Ä–∏–º—É–≤–∞–≤ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥**
   - –ù–µ –±—É–ª–æ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è —Ç—ñ–ª—å–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ –ø–∞–º'—è—Ç—ñ

2. **–ù–µ –æ—Ç—Ä–∏–º—É–≤–∞–≤ —Ä–µ–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É**
   - –ù–µ –±—É–ª–æ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤—Å—è —Ç—ñ–ª—å–∫–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

3. **System prompt –¥–æ–∑–≤–æ–ª—è–≤ –≤–∏–≥–∞–¥—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ**
   - –ê–≥–µ–Ω—Ç –º—ñ–≥ –≤–∏–≥–∞–¥—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏, —è–∫—â–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ –±—É–ª–æ
   - –ù–µ –±—É–ª–æ —á—ñ—Ç–∫–∏—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö

---

## ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫ –Ω–æ–¥

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

```python
async def get_real_node_metrics(node_id: Optional[str] = None) -> str:
    """
    –û—Ç—Ä–∏–º–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥
    –ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫, —è–∫—â–æ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ
    """
    # –û—Ç—Ä–∏–º—É—î–º–æ —Å–ø–∏—Å–æ–∫ –Ω–æ–¥
    # –û—Ç—Ä–∏–º—É—î–º–æ –º–µ—Ç—Ä–∏–∫–∏ –∑ API: /api/nodes/{node_id}/metrics
    # –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
    # –Ø–∫—â–æ –¥–∞–Ω–∏—Ö –Ω–µ–º–∞—î - –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –û—Ç—Ä–∏–º—É—î —Å–ø–∏—Å–æ–∫ –Ω–æ–¥ –∑ API
- –î–ª—è –∫–æ–∂–Ω–æ—ó –Ω–æ–¥–∏ –æ—Ç—Ä–∏–º—É—î –º–µ—Ç—Ä–∏–∫–∏ –∑ `/api/nodes/{node_id}/metrics`
- –ü–æ–≤–µ—Ä—Ç–∞—î —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ (CPU, RAM, Disk, Network, Status)
- –Ø–∫—â–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ–º–∞—î - –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ä–æ–∂–Ω—ñ–π —Ä—è–¥–æ–∫

### 2. –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω –ø—Ä–æ—î–∫—Ç—É

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

```python
async def get_recent_project_changes(limit: int = 10) -> str:
    """
    –û—Ç—Ä–∏–º–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É –∑ Memory Service
    """
    # –û—Ç—Ä–∏–º—É—î–º–æ –∑–º—ñ–Ω–∏ –∑ Memory Service
    # –§—ñ–ª—å—Ç—Ä—É—î–º–æ –ø–æ kind: project_event
    # –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ –∑–º—ñ–Ω–∏
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –û—Ç—Ä–∏–º—É—î –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –∑ Memory Service (`/agents/monitor/memory?kind=project_event`)
- –§–æ—Ä–º–∞—Ç—É—î –∑–º—ñ–Ω–∏ –∑ –¥–µ—Ç–∞–ª—è–º–∏ (—Ç–∏–ø, –¥—ñ—è, —à–ª—è—Ö, —á–∞—Å)
- –ü–æ–≤–µ—Ä—Ç–∞—î —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –ø—Ä–æ –∑–º—ñ–Ω–∏

### 3. –û–Ω–æ–≤–ª–µ–Ω–æ `get_monitor_memory_context`

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

```python
async def get_monitor_memory_context(
    node_id: Optional[str] = None, 
    microdao_id: Optional[str] = None,
    limit: int = 10
) -> str:
    """
    –û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑ Memory Service –¥–ª—è Monitor Agent
    –î–æ–¥–∞—î —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ —Ç–∞ –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É
    """
    contexts = []
    
    # 1. –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥
    node_metrics = await get_real_node_metrics(node_id)
    if node_metrics:
        contexts.append(f"üìä –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥:\n{node_metrics}")
    
    # 2. –û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É
    project_changes = await get_recent_project_changes(limit=5)
    if project_changes:
        contexts.append(f"üìù –û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É:\n{project_changes}")
    
    # 3. –ó–∞–≥–∞–ª—å–Ω–∞ –ø–∞–º'—è—Ç—å
    # 4. –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –ø–∞–º'—è—Ç—å
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –î–æ–¥–∞—î —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –î–æ–¥–∞—î –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ö–æ–º–±—ñ–Ω—É—î –∑ –∑–∞–≥–∞–ª—å–Ω–æ—é —Ç–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é

### 4. –û–Ω–æ–≤–ª–µ–Ω–æ System Prompt

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

```python
def build_monitor_system_prompt(...) -> str:
    return f"""...
    
–¢–∏ –º–∞—î—à –¥–æ—Å—Ç—É–ø –¥–æ –†–ï–ê–õ–¨–ù–ò–• –¥–∞–Ω–∏—Ö:
- üìä –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ (CPU, RAM, Disk, GPU, Network, –°—Ç–∞—Ç—É—Å)
- üìù –û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É (—Ñ–∞–π–ª–∏, –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó, —Å–µ—Ä–≤—ñ—Å–∏, –∞–≥–µ–Ω—Ç–∏, –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–∏)
- üìã –ó–∞–≥–∞–ª—å–Ω—ñ –ø–æ–¥—ñ—ó —Å–∏—Å—Ç–µ–º–∏ (–≤—Å—ñ –ù–û–î–ò —Ç–∞ –º—ñ–∫—Ä–æ–î–ê–û)
- ...

–ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–õ–ò–í–û:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –¢–Ü–õ–¨–ö–ò —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤–∏—â–µ
- –Ø–∫—â–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –Ω–µ–º–∞—î —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫ - —Ç–∞–∫ —ñ —Å–∫–∞–∂–∏: "–†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞—Ä–∞–∑"
- –Ø–∫—â–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –Ω–µ–º–∞—î –∑–º—ñ–Ω –ø—Ä–æ—î–∫—Ç—É - —Ç–∞–∫ —ñ —Å–∫–∞–∂–∏: "–û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞—Ä–∞–∑"
- –ù–Ü–ö–û–õ–ò –Ω–µ –≤–∏–≥–∞–¥—É–π –º–µ—Ç—Ä–∏–∫–∏, –∑–º—ñ–Ω–∏ –∞–±–æ –ø–æ–¥—ñ—ó
- –ù–Ü–ö–û–õ–ò –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –ø—Ä–∏–∫–ª–∞–¥–∏ –∞–±–æ mock –¥–∞–Ω—ñ
- –ù–∞–¥–∞–≤–∞–π –¢–Ü–õ–¨–ö–ò —Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ –∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
- –í–∫–∞–∑—É–π –¥–∂–µ—Ä–µ–ª–æ –¥–∞–Ω–∏—Ö (—è–∫–∞ –Ω–æ–¥–∞, —è–∫–∏–π —á–∞—Å, —è–∫–∞ –∑–º—ñ–Ω–∞)
- –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–∏—Ç–∞—î –ø—Ä–æ –¥–∞–Ω—ñ, —è–∫–∏—Ö –Ω–µ–º–∞—î –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ - —Å–∫–∞–∂–∏, —â–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ–º–∞—î
"""
```

**–©–æ —Ä–æ–±–∏—Ç—å:**
- –ß—ñ—Ç–∫–æ –≤–∫–∞–∑—É—î, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
- –ó–∞–±–æ—Ä–æ–Ω—è—î –≤–∏–≥–∞–¥—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –∞–±–æ –∑–º—ñ–Ω–∏
- –í–∫–∞–∑—É—î, —â–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ–º–∞—î

---

## üîß Environment Variables

–î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è:

```bash
# API –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫ —Ç–∞ –¥–∞–Ω–∏—Ö
FRONTEND_API_URL=http://localhost:8899
NODE_REGISTRY_URL=http://localhost:9205
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö

### –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥:

```
üìä –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥:

–ù–û–î–ê node-1-hetzner-gex44 (–†–ï–ê–õ–¨–ù–Ü –¥–∞–Ω—ñ):
- CPU: 25%
- RAM: 45%
- Disk: 70%
- Network: ‚Üì1.2 MB/s ‚Üë0.8 MB/s
- –°—Ç–∞—Ç—É—Å: online

–ù–û–î–ê node-2-macbook-m4max (–†–ï–ê–õ–¨–ù–Ü –¥–∞–Ω—ñ):
- CPU: 15%
- RAM: 38%
- Disk: 60%
- Network: ‚Üì0.9 MB/s ‚Üë0.7 MB/s
- –°—Ç–∞—Ç—É—Å: online

–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–æ–¥: 2/2
```

### –û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É:

```
üìù –û—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É:

- [project_event] modified: services/monitor-agent-service/app/main.py
  –î–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é get_real_node_metrics –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫
  –ß–∞—Å: 2025-11-23T12:30:00

- [project_event] created: MONITOR-AGENT-REAL-DATA-FIX.md
  –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
  –ß–∞—Å: 2025-11-23T12:35:00
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–Ø–∫—ñ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ –∑–∞—Ä–∞–∑?"

Monitor Agent: "–ó–∞—Ä–∞–∑ —É —Å–∏—Å—Ç–µ–º—ñ DAARION —î —Ç–∞–∫—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥:
- –ù–æ–¥–∞ 1: CPU 25%, RAM 4GB/8GB, Disk 70%..."
(–í–ò–ì–ê–î–ê–ù–Ü –¥–∞–Ω—ñ)
```

### –ü—ñ—Å–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–Ø–∫—ñ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ –∑–∞—Ä–∞–∑?"

Monitor Agent: "üìä –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥:

–ù–û–î–ê node-1-hetzner-gex44 (–†–ï–ê–õ–¨–ù–Ü –¥–∞–Ω—ñ):
- CPU: 25%
- RAM: 45%
- Disk: 70%
- Network: ‚Üì1.2 MB/s ‚Üë0.8 MB/s
- –°—Ç–∞—Ç—É—Å: online

–ù–û–î–ê node-2-macbook-m4max (–†–ï–ê–õ–¨–ù–Ü –¥–∞–Ω—ñ):
- CPU: 15%
- RAM: 38%
- Disk: 60%
- Network: ‚Üì0.9 MB/s ‚Üë0.7 MB/s
- –°—Ç–∞—Ç—É—Å: online

–ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ –Ω–æ–¥: 2/2"
(–†–ï–ê–õ–¨–ù–Ü –¥–∞–Ω—ñ –∑ API)
```

### –Ø–∫—â–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ–º–∞—î:

```
–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: "–Ø–∫—ñ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ –∑–∞—Ä–∞–∑?"

Monitor Agent: "–†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞—Ä–∞–∑. 
–°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ –∞–±–æ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –Ω–æ–¥."
(–ß–ï–°–ù–ê –≤—ñ–¥–ø–æ–≤—ñ–¥—å)
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫

```bash
curl -X POST http://localhost:9500/api/agent/monitor/chat \
  -H "Content-Type: application/json" \
  -d '{"agent_id":"monitor","message":"–Ø–∫—ñ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥ –∑–∞—Ä–∞–∑? –ü–æ–∫–∞–∂–∏ —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ.","node_id":null}'
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –∑ API (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω—ñ)
- –ê–±–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω

```bash
curl -X POST http://localhost:9500/api/agent/monitor/chat \
  -H "Content-Type: application/json" \
  -d '{"agent_id":"monitor","message":"–Ø–∫—ñ –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –ø—Ä–æ—î–∫—Ç—ñ?","node_id":null}'
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –†–µ–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–∏ –∑ Memory Service (—è–∫—â–æ –¥–æ—Å—Ç—É–ø–Ω—ñ)
- –ê–±–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —â–æ –∞–≥–µ–Ω—Ç –Ω–µ –≤–∏–≥–∞–¥—É—î –¥–∞–Ω—ñ

```bash
curl -X POST http://localhost:9500/api/agent/monitor/chat \
  -H "Content-Type: application/json" \
  -d '{"agent_id":"monitor","message":"–Ø–∫—ñ –º–µ—Ç—Ä–∏–∫–∏ –Ω–æ–¥–∏ node-999?","node_id":null}'
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- "–†–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –Ω–æ–¥–∏ node-999 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –∑–∞—Ä–∞–∑"
- –ù–ï –≤–∏–≥–∞–¥–∞–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏

---

## üìù –í–∏—Å–Ω–æ–≤–∫–∏

### ‚úÖ –©–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–î–æ–¥–∞–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫ –Ω–æ–¥**
   - –§—É–Ω–∫—Ü—ñ—è `get_real_node_metrics()`
   - –û—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –∑ `/api/nodes/{node_id}/metrics`

2. **–î–æ–¥–∞–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω –ø—Ä–æ—î–∫—Ç—É**
   - –§—É–Ω–∫—Ü—ñ—è `get_recent_project_changes()`
   - –û—Ç—Ä–∏–º—É—î –¥–∞–Ω—ñ –∑ Memory Service

3. **–û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è Monitor Agent**
   - –î–æ–¥–∞–Ω–æ —Ä–µ–∞–ª—å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç
   - –î–æ–¥–∞–Ω–æ –æ—Å—Ç–∞–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç

4. **–û–Ω–æ–≤–ª–µ–Ω–æ System Prompt**
   - –ß—ñ—Ç–∫—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –ø—Ä–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
   - –ó–∞–±–æ—Ä–æ–Ω–∞ –≤–∏–≥–∞–¥—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –∞–±–æ –∑–º—ñ–Ω–∏

### ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ:

- Monitor Agent —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –¢–Ü–õ–¨–ö–ò —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ
- –Ø–∫—â–æ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ–º–∞—î - –∞–≥–µ–Ω—Ç —á–µ—Å–Ω–æ –ø—Ä–æ —Ü–µ –∫–∞–∂–µ
- –ê–≥–µ–Ω—Ç –ù–ï –≤–∏–≥–∞–¥—É—î –º–µ—Ç—Ä–∏–∫–∏ –∞–±–æ –∑–º—ñ–Ω–∏

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Monitor Agent —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ

