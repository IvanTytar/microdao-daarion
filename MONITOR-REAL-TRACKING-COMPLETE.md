# ‚úÖ –†–µ–∞–ª—å–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω –ø—Ä–æ—î–∫—Ç—É —á–µ—Ä–µ–∑ Monitor Agent

**–î–∞—Ç–∞:** 2025-11-23  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

---

## üéØ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –í–∏–¥–∞–ª–µ–Ω–æ –ø—Ä–∏–≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–§–∞–π–ª:** `src/pages/DagiMonitorPage.tsx`

- ‚ùå –í–∏–¥–∞–ª–µ–Ω–æ –ø—Ä–∏–≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- ‚úÖ –î–æ–¥–∞–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ—ó —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω –∑ –ø–∞–º'—è—Ç—ñ Monitor Agent

### 2. –†–µ–∞–ª—å–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω –ø—Ä–æ—î–∫—Ç—É

**–§–∞–π–ª:** `src/services/projectChangeTracker.ts`

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- ‚úÖ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω —á–µ—Ä–µ–∑ API Monitor Service
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ Mistral –Ω–∞ –ù–û–î–ê2
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—å Monitor Agent
- ‚úÖ –ü–µ—Ä—ñ–æ–¥–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–º—ñ–Ω (–∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥)

### 3. API Endpoints –¥–ª—è Monitor Agent

**–§–∞–π–ª:** `services/monitor-agent-service/app/main.py`

**–î–æ–¥–∞–Ω—ñ endpoints:**
- ‚úÖ `POST /api/agent/monitor/project-change` - –æ–±—Ä–æ–±–∫–∞ –∑–º—ñ–Ω —Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ Mistral
- ‚úÖ `GET /api/project/changes` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–º—ñ–Ω –∑ –ø–∞–º'—è—Ç—ñ
- ‚úÖ `GET /api/agent/monitor/project-history` - —ñ—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ —á–∞—Ç—ñ
- ‚úÖ `POST /api/agent/monitor/memory` - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—å Monitor Agent
- ‚úÖ `GET /api/project/git-changes` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è git –∑–º—ñ–Ω (–≥–æ—Ç–æ–≤–æ –¥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó)

### 4. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Mistral –Ω–∞ –ù–û–î–ê2

**–Ø–∫ –ø—Ä–∞—Ü—é—î:**
1. –ü—Ä–∏ –≤–∏—è–≤–ª–µ–Ω–Ω—ñ –∑–º—ñ–Ω–∏ –ø—Ä–æ—î–∫—Ç—É
2. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∑–∞–ø–∏—Ç –¥–æ Monitor Agent Service
3. Monitor Agent Service –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Mistral –Ω–∞ –ù–û–î–ê2 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
4. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –ø–∞–º'—è—Ç—å Monitor Agent
5. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ —á–∞—Ç—ñ

### 5. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ (–Ω–æ–≤—ñ –∑–≤–µ—Ä—Ö—É)

**–§–∞–π–ª:** `src/pages/DagiMonitorPage.tsx`

**–ó–º—ñ–Ω–∏:**
- ‚úÖ –ù–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ–¥–∞—é—Ç—å—Å—è –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ –º–∞—Å–∏–≤—É (`[newMessage, ...prev]`)
- ‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤ –ø–æ—Ä—è–¥–∫—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è (–Ω–æ–≤—ñ –∑–≤–µ—Ä—Ö—É)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–∫—Ä–æ–ª –¥–æ –≤–µ—Ä—Ö—É –ø—Ä–∏ –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö

---

## üìã –Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∏—Å—Ç–µ–º–∞

### 1. –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω

**ProjectChangeTracker:**
- –ü–µ—Ä–µ–≤—ñ—Ä—è—î –∑–º—ñ–Ω–∏ –∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥
- –û—Ç—Ä–∏–º—É—î –∑–º—ñ–Ω–∏ —á–µ—Ä–µ–∑ API `/api/project/changes`
- –û–±—Ä–æ–±–ª—è—î –∫–æ–∂–Ω—É –∑–º—ñ–Ω—É —Ç–∞ –≥–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### 2. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ Mistral

**Monitor Agent Service:**
- –û—Ç—Ä–∏–º—É—î –∑–º—ñ–Ω—É –ø—Ä–æ—î–∫—Ç—É
- –§–æ—Ä–º—É—î prompt –¥–ª—è Mistral
- –í–∏–∫–ª–∏–∫–∞—î Mistral –Ω–∞ –ù–û–î–ê2 (`http://192.168.1.244:11434`)
- –ì–µ–Ω–µ—Ä—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é
- –ó–±–µ—Ä—ñ–≥–∞—î –≤ –ø–∞–º'—è—Ç—å Monitor Agent

### 3. –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ —á–∞—Ç—ñ

**DagiMonitorPage:**
- –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î —ñ—Å—Ç–æ—Ä—ñ—é –∑–º—ñ–Ω –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- –û—Ç—Ä–∏–º—É—î –Ω–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ CustomEvent
- –î–æ–¥–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ (–Ω–æ–≤—ñ –∑–≤–µ—Ä—Ö—É)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∫—Ä–æ–ª–∏—Ç—å –¥–æ –≤–µ—Ä—Ö—É

---

## üîß API Endpoints

### POST /api/agent/monitor/project-change

**Request:**
```json
{
  "change": {
    "id": "change-123",
    "type": "file",
    "action": "modified",
    "path": "src/pages/DagiMonitorPage.tsx",
    "description": "–î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è",
    "timestamp": "2025-11-23T12:00:00Z",
    "details": {
      "component": "DagiMonitorPage",
      "feature": "project-change-tracking"
    }
  },
  "context": {
    "timestamp": "2025-11-23T12:00:00Z",
    "project": "microdao-daarion",
    "node_id": "node-2"
  }
}
```

**Response:**
```json
{
  "message": "üìÑ –ó–º—ñ–Ω–µ–Ω–æ —Ñ–∞–π–ª DagiMonitorPage.tsx: –¥–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ Monitor Agent –ø—Ä–æ –∑–º—ñ–Ω–∏ –≤ –ø—Ä–æ—î–∫—Ç—ñ",
  "saved_to_memory": true,
  "timestamp": "2025-11-23T12:00:00Z"
}
```

### GET /api/agent/monitor/project-history

**Response:**
```json
{
  "events": [
    {
      "timestamp": "2025-11-23T12:00:00Z",
      "message": "üìÑ –ó–º—ñ–Ω–µ–Ω–æ —Ñ–∞–π–ª...",
      "body_text": "üìÑ –ó–º—ñ–Ω–µ–Ω–æ —Ñ–∞–π–ª..."
    }
  ]
}
```

---

## üé® –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

### –ü–æ—Ä—è–¥–æ–∫ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è

**–ù–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–≤–µ—Ä—Ö—É:**
- –û—Å—Ç–∞–Ω–Ω—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è - –∑–≤–µ—Ä—Ö—É
- –°—Ç–∞—Ä—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è - –∑–Ω–∏–∑—É
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Å–∫—Ä–æ–ª –¥–æ –≤–µ—Ä—Ö—É –ø—Ä–∏ –Ω–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö

### –§–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

```
ü§ñ **Monitor Agent:**

üìÑ **FILE** –∑–º—ñ–Ω–µ–Ω–æ: src/pages/DagiMonitorPage.tsx

–î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥ Monitor Agent –ø—Ä–æ –∑–º—ñ–Ω–∏ –≤ –ø—Ä–æ—î–∫—Ç—ñ

üìù Commit: abc123
üë§ –ê–≤—Ç–æ—Ä: Developer
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–æ –ø—Ä–∏–≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
- ‚úÖ –†–µ–∞–ª—å–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω —á–µ—Ä–µ–∑ API
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —á–µ—Ä–µ–∑ Mistral –Ω–∞ –ù–û–î–ê2
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ø–∞–º'—è—Ç—å Monitor Agent
- ‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ (–Ω–æ–≤—ñ –∑–≤–µ—Ä—Ö—É)
- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ

**–ú–∞–π–±—É—Ç–Ω—î:**
- ‚è≥ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ git hooks –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∫–æ–º—ñ—Ç—ñ–≤
- ‚è≥ File watchers –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω —Ñ–∞–π–ª—ñ–≤
- ‚è≥ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- ‚è≥ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è—Ö

---

**–ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!** üöÄ




