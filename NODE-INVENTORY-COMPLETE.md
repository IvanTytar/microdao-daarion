# ‚úÖ –Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è –Ω–æ–¥ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ

**–î–∞—Ç–∞:** 2025-11-23  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

---

## üéâ –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### ‚úÖ 1. –î–æ–¥–∞–Ω–æ –≤–∫–ª–∞–¥–∫—É "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è" –≤ –∫–∞–±—ñ–Ω–µ—Ç –Ω–æ–¥–∏

**–§–∞–π–ª:** `src/pages/NodeCabinetPage.tsx`

**–ó–º—ñ–Ω–∏:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –Ω–æ–≤—É –≤–∫–ª–∞–¥–∫—É "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è" –º—ñ–∂ "–°–µ—Ä–≤—ñ—Å–∏" —Ç–∞ "–ü–ª–∞–≥—ñ–Ω–∏"
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –Ω–∞ –Ω–æ–¥—ñ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—É —Ö–≤–∏–ª–∏–Ω—É

---

### ‚úÖ 2. –°—Ç–≤–æ—Ä–µ–Ω–æ API –¥–ª—è —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—ó

**–§–∞–π–ª:** `src/api/nodeInventory.ts`

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:**
- ‚úÖ `getNodeInventory(nodeId)` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—É —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—é –Ω–æ–¥–∏
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–ª—è –ù–û–î–ê1 —Ç–∞ –ù–û–î–ê2
- ‚úÖ Mock data –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–≥–æ—Ç–æ–≤–æ –¥–ª—è –∑–∞–º—ñ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π API)

**–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏:**
- `DockerContainer` - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `DockerImage` - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ Docker –æ–±—Ä–∞–∑
- `SystemPackage` - —Å–∏—Å—Ç–µ–º–Ω–∏–π –ø–∞–∫–µ—Ç
- `SystemdService` - systemd —Å–µ—Ä–≤—ñ—Å
- `FileStructure` - —Ñ–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- `NodeInventory` - –ø–æ–≤–Ω–∞ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è –Ω–æ–¥–∏

---

### ‚úÖ 3. –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—ó

**–°–µ–∫—Ü—ñ—ó –≤ –∫–∞–±—ñ–Ω–µ—Ç—ñ –Ω–æ–¥–∏:**

#### 3.1. üê≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏

**–ü—ñ–¥—Å–µ–∫—Ü—ñ—ó:**
- **MicroDAO —Å–µ—Ä–≤—ñ—Å–∏** - —Ç–∞–±–ª–∏—Ü—è –∑ —É—Å—ñ–º–∞ MicroDAO –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
  - –ù–∞–∑–≤–∞, –æ–±—Ä–∞–∑, –ø–æ—Ä—Ç–∏, —Å—Ç–∞—Ç—É—Å
- **–Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏** - —Ç–∞–±–ª–∏—Ü—è –∑ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
  - Telegram Bot API, Nginx, Redis, Weaviate —Ç–æ—â–æ
- **–ó—É–ø–∏–Ω–µ–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏** - grid –∑ –∑—É–ø–∏–Ω–µ–Ω–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
  - Milvus, Neo4j, Grafana (—è–∫—â–æ –∑—É–ø–∏–Ω–µ–Ω—ñ)

**–ü—Ä–∏–∫–ª–∞–¥ –¥–ª—è –ù–û–î–ê1:**
- dagi-router (9102)
- dagi-gateway (9300)
- dagi-rbac (9200)
- dagi-crewai (9010)
- dagi-devtools (8008)
- dagi-postgres (5432)
- dagi-nats (4222, 6222, 8222)
- dagi-node-registry (9205)
- swapper-service (8890)
- dagi-parser-service (9400)
- dagi-stt-service (9401)
- dagi-prometheus (9090)
- dagi-image-gen (9600)

#### 3.2. üì¶ Docker –æ–±—Ä–∞–∑–∏

- Grid –∑ —É—Å—ñ–º–∞ Docker –æ–±—Ä–∞–∑–∞–º–∏
- –ù–∞–∑–≤–∞, tag, —Ä–æ–∑–º—ñ—Ä

#### 3.3. ü§ñ Ollama –º–æ–¥–µ–ª—ñ

- Grid –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º–∏ AI –º–æ–¥–µ–ª—è–º–∏
- –ù–∞–∑–≤–∞, —Ä–æ–∑–º—ñ—Ä, –¥–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

**–ù–û–î–ê1:**
- qwen2.5:14b (8.5GB)
- qwen2.5:7b (4.5GB)
- qwen2.5:3b (2.0GB)
- qwen3:8b (5.0GB)

**–ù–û–î–ê2:**
- deepseek-r1:70b (40GB)
- mistral-22b (12GB)

#### 3.4. ‚öôÔ∏è Systemd —Å–µ—Ä–≤—ñ—Å–∏

- Grid –∑ —Å–∏—Å—Ç–µ–º–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏
- –ù–∞–∑–≤–∞, —Å—Ç–∞—Ç—É—Å, –æ–ø–∏—Å

**–ü—Ä–∏–∫–ª–∞–¥:**
- docker.service (active) - Docker Application Container Engine
- ssh.service (active) - OpenBSD Secure Shell server
- cron.service (active) - Regular background program processing daemon

#### 3.5. üìö –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –ø–∞–∫–µ—Ç–∏

- Flex wrap –∑ —É—Å—ñ–º–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏
- –ù–∞–∑–≤–∞, –≤–µ—Ä—Å—ñ—è

**–ü—Ä–∏–∫–ª–∞–¥:**
- git (2.34.1)
- curl (7.81.0)
- wget (1.21.2)
- nano (6.2)
- vim (8.2)
- ufw (0.36)
- unattended-upgrades (2.8)

#### 3.6. üíª –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

- Grid –∑ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º –ü–ó
- –ù–∞–∑–≤–∞, –≤–µ—Ä—Å—ñ—è, —Ç–∏–ø (docker/system/python/node)

**–ü—Ä–∏–∫–ª–∞–¥:**
- Docker (24.0.7) - system
- Docker Compose (2.21.0) - system
- Python (3.12.3) - system
- Node.js (20.10.0) - node
- Ollama (0.1.0) - system

#### 3.7. üìÅ –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- –î–µ—Ä–µ–≤–æ —Ñ–∞–π–ª—ñ–≤ —Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π
- –ü—Ä–æ—î–∫—Ç: `/opt/microdao-daarion`
- –Ü–∫–æ–Ω–∫–∏ –¥–ª—è —Ñ–∞–π–ª—ñ–≤ (üìÑ) —Ç–∞ –ø–∞–ø–æ–∫ (üìÅ)
- –†–æ–∑–º—ñ—Ä–∏ —Ñ–∞–π–ª—ñ–≤

---

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏

### 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–±—ñ–Ω–µ—Ç –Ω–æ–¥–∏

```bash
# –ù–û–î–ê1
http://localhost:8899/nodes/node-1-hetzner-gex44

# –ù–û–î–ê2
http://localhost:8899/nodes/node-2
```

### 2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è"

1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–∞–±—ñ–Ω–µ—Ç –Ω–æ–¥–∏
2. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è"
3. –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö

```typescript
interface NodeInventory {
  node_id: string;
  node_name: string;
  docker_containers: {
    microdao: DockerContainer[];
    infrastructure: DockerContainer[];
    stopped: DockerContainer[];
  };
  docker_images: DockerImage[];
  system_packages: SystemPackage[];
  systemd_services: SystemdService[];
  file_structure: FileStructure;
  ollama_models?: Array<{
    name: string;
    size: string;
    modified: string;
  }>;
  installed_software?: Array<{
    name: string;
    version: string;
    type: 'docker' | 'system' | 'python' | 'node';
  }>;
}
```

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### Environment Variables

```bash
# URLs –¥–ª—è –∫–æ–∂–Ω–æ—ó –Ω–æ–¥–∏
VITE_NODE1_URL=http://144.76.224.179
VITE_NODE2_URL=http://192.168.1.244
```

### API Endpoint (–º–∞–π–±—É—Ç–Ω—î)

```http
GET /api/node/{node_id}/inventory
```

**Response:**
```json
{
  "node_id": "node-1-hetzner-gex44",
  "node_name": "–ù–û–î–ê1",
  "docker_containers": {
    "microdao": [...],
    "infrastructure": [...],
    "stopped": [...]
  },
  "docker_images": [...],
  "system_packages": [...],
  "systemd_services": [...],
  "file_structure": {...},
  "ollama_models": [...],
  "installed_software": [...]
}
```

---

## üìù –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

### 1. –†–µ–∞–ª—å–Ω–∏–π API endpoint

–°—Ç–≤–æ—Ä–∏—Ç–∏ backend endpoint –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—ó:

```python
@app.get("/api/node/{node_id}/inventory")
async def get_node_inventory(node_id: str):
    # –û—Ç—Ä–∏–º–∞—Ç–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
    containers = await get_docker_containers()
    
    # –û—Ç—Ä–∏–º–∞—Ç–∏ Docker –æ–±—Ä–∞–∑–∏
    images = await get_docker_images()
    
    # –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–∏—Å—Ç–µ–º–Ω—ñ –ø–∞–∫–µ—Ç–∏
    packages = await get_system_packages()
    
    # –û—Ç—Ä–∏–º–∞—Ç–∏ systemd —Å–µ—Ä–≤—ñ—Å–∏
    services = await get_systemd_services()
    
    # –û—Ç—Ä–∏–º–∞—Ç–∏ Ollama –º–æ–¥–µ–ª—ñ
    models = await get_ollama_models()
    
    return {
        "node_id": node_id,
        "docker_containers": containers,
        "docker_images": images,
        "system_packages": packages,
        "systemd_services": services,
        "ollama_models": models,
        # ...
    }
```

### 2. –†–µ–∞–ª—å–Ω–∏–π –∑–±—ñ—Ä –¥–∞–Ω–∏—Ö

- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ SSH –¥–ª—è –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –∑ –Ω–æ–¥
- –ê–±–æ NodeAgent –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–±–æ—Ä—É
- –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø—É

### 3. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ø–æ—à—É–∫

- –î–æ–¥–∞—Ç–∏ –ø–æ—à—É–∫ –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ì–æ—Ç–æ–≤–æ:**
- ‚úÖ –í–∫–ª–∞–¥–∫–∞ "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è" –¥–æ–¥–∞–Ω–æ
- ‚úÖ API –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—ó
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è Docker –æ–±—Ä–∞–∑—ñ–≤
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è Ollama –º–æ–¥–µ–ª–µ–π
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è systemd —Å–µ—Ä–≤—ñ—Å—ñ–≤
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–Ω–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ–≥–æ –ü–ó
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª–æ–≤–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ –Ω–∞ –Ω–æ–¥—ñ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ
- ‚úÖ –ó—Ä—É—á–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –í—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø–æ –ù–û–î–ê–•

---

**–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è –Ω–æ–¥ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞!** üéâ

**–î–æ—Å—Ç—É–ø:**
- –ù–û–î–ê1: `http://localhost:8899/nodes/node-1-hetzner-gex44` ‚Üí –í–∫–ª–∞–¥–∫–∞ "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è"
- –ù–û–î–ê2: `http://localhost:8899/nodes/node-2` ‚Üí –í–∫–ª–∞–¥–∫–∞ "–Ü–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü—ñ—è"

