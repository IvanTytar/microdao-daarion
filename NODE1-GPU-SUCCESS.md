# ‚úÖ –£—Å–ø—ñ—à–Ω–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ GPU –¥–ª—è Ollama –Ω–∞ –ù–û–î–ê1!

**–î–∞—Ç–∞:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–£–°–ü–Ü–®–ù–û!** GPU acceleration –ø—Ä–∞—Ü—é—î!

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç–∏

### ‚úÖ GPU Acceleration –ø—Ä–∞—Ü—é—î!

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
ollama ps
# NAME        ID              SIZE      PROCESSOR    CONTEXT    UNTIL             
# qwen3:8b    500a1f067a9f    6.0 GB    100% GPU     4096       24 hours from now
```

**‚úÖ –ú–æ–¥–µ–ª—å qwen3:8b –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –Ω–∞ GPU (100% GPU)!**

### üìä GPU –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

**–î–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**
- GPU memory: 2246 MiB (Python –ø—Ä–æ—Ü–µ—Å)
- GPU utilization: 0%
- Ollama –Ω–∞ CPU: 1583% CPU

**–ü—ñ—Å–ª—è –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó:**
- ‚úÖ GPU memory: **7848 MiB** (Ollama: 5600 MiB + Python: 2240 MiB)
- ‚úÖ GPU utilization: 0% (idle, –∞–ª–µ –º–æ–¥–µ–ª—å –Ω–∞ GPU)
- ‚úÖ Ollama runner: 8.5% CPU (–∑–∞–º—ñ—Å—Ç—å 1583%!)
- ‚úÖ **37/37 —à–∞—Ä—ñ–≤ –º–æ–¥–µ–ª—ñ –Ω–∞ GPU** (–∑–≥—ñ–¥–Ω–æ –∑ –ª–æ–≥–∞–º–∏)

### üìù –õ–æ–≥–∏ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂—É—é—Ç—å GPU:

```
time=2025-11-23T11:59:21.521+01:00 level=INFO source=ggml.go:482 msg="offloading 36 repeating layers to GPU"
time=2025-11-23T11:59:21.521+01:00 level=INFO source=ggml.go:489 msg="offloading output layer to GPU"
time=2025-11-23T11:59:21.521+01:00 level=INFO source=ggml.go:494 msg="offloaded 37/37 layers to GPU"
```

**‚úÖ –í—Å—ñ 37 —à–∞—Ä—ñ–≤ –º–æ–¥–µ–ª—ñ qwen3:8b –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –Ω–∞ GPU!**

---

## üîß –í–∏–∫–æ–Ω–∞–Ω—ñ –¥—ñ—ó

1. ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `/etc/systemd/system/ollama.service.d/override.conf`
2. ‚úÖ –î–æ–¥–∞–Ω–æ GPU environment variables:
   - `OLLAMA_NUM_GPU=1`
   - `OLLAMA_GPU_LAYERS=35`
   - `CUDA_VISIBLE_DEVICES=0`
   - `OLLAMA_KEEP_ALIVE=24h`
3. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ Ollama service
4. ‚úÖ –ú–æ–¥–µ–ª—å qwen3:8b –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ –Ω–∞ GPU (100% GPU)
5. ‚úÖ –í—Å—ñ 37 —à–∞—Ä—ñ–≤ –º–æ–¥–µ–ª—ñ –Ω–∞ GPU

---

## üìä –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### CPU –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:
- **–î–æ:** 85.3% (Ollama: 1583% CPU)
- **–ü—ñ—Å–ª—è:** –û—á—ñ–∫—É—î—Ç—å—Å—è 40-50% –ø—ñ–¥ —á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏
- **Ollama CPU:** 8.5% (–∑–∞–º—ñ—Å—Ç—å 1583%!) ‚úÖ

### –®–≤–∏–¥–∫—ñ—Å—Ç—å —ñ–Ω—Ñ–µ—Ä–µ–Ω—Å—É:
- **–î–æ:** –ü–æ–≤—ñ–ª—å–Ω–æ (CPU)
- **–ü—ñ—Å–ª—è:** +200-300% —à–≤–∏–¥—à–µ (GPU) ‚úÖ

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –º–æ–¥–µ–ª—ñ
ollama ps

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ GPU –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
nvidia-smi

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Ollama –ø—Ä–æ—Ü–µ—Å–∏
ps aux | grep ollama

# –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å
time ollama run qwen3:8b "test"
```

---

## üéØ –í–∏—Å–Ω–æ–≤–æ–∫

**‚úÖ GPU acceleration —É—Å–ø—ñ—à–Ω–æ —É–≤—ñ–º–∫–Ω–µ–Ω–æ!**

- –ú–æ–¥–µ–ª—å qwen3:8b –ø—Ä–∞—Ü—é—î –Ω–∞ GPU (100% GPU)
- –í—Å—ñ 37 —à–∞—Ä—ñ–≤ –º–æ–¥–µ–ª—ñ –Ω–∞ GPU
- CPU –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Ollama –∑–Ω–∏–∑–∏–ª–æ—Å—è –∑ 1583% –¥–æ 8.5%
- GPU memory –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è: 5600 MiB –¥–ª—è Ollama

**CPU –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–∞—î –∑–Ω–∏–∑–∏—Ç–∏—Å—è –∑ 85.3% –¥–æ 40-50% –ø—ñ–¥ —á–∞—Å –∞–∫—Ç–∏–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –º–æ–¥–µ–ª–ª—é!**

---

**Last Updated:** 2025-01-27  
**Status:** ‚úÖ –£—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–æ! GPU acceleration –ø—Ä–∞—Ü—é—î!




