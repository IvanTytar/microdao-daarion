# ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è default_model –¥–ª—è –ù–û–î–ê1

**–î–∞—Ç–∞:** 2025-11-23  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞

---

## üéØ –©–æ –∑—Ä–æ–±–ª–µ–Ω–æ

### 1. –û–Ω–æ–≤–ª–µ–Ω–æ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏

**–§–∞–π–ª–∏:**
- ‚úÖ `services/swapper-service/config/swapper_config.yaml`
- ‚úÖ `services/swapper-service/config/swapper_config_node1.yaml`

**–î–æ–¥–∞–Ω–æ:**
```yaml
swapper:
  default_model: qwen3-8b  # –ú–æ–¥–µ–ª—å –∞–∫—Ç–∏–≤—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
```

### 2. –î–æ–¥–∞–Ω–æ –ª–æ–≥—ñ–∫—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

**–§–∞–π–ª:** `services/swapper-service/app/main.py`

**–õ–æ–≥—ñ–∫–∞:**
- –ü—Ä–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó Swapper Service –ø–µ—Ä–µ–≤—ñ—Ä—è—î `default_model` –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
- –Ø–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –º–æ–¥–µ–ª—å
- –õ–æ–≥—É—î –ø—Ä–æ—Ü–µ—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

---

## üìã –Ø–∫ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –Ω–∞ –ù–û–î–ê1

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

```bash
# 1. –ü—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ –ù–û–î–ê1
ssh root@144.76.224.179

# 2. –ó–Ω–∞–π—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª
cd /opt/microdao-daarion
find . -name "swapper_config.yaml" -o -name "swapper_config_node1.yaml"

# 3. –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é (–¥–æ–¥–∞—Ç–∏ default_model: qwen3-8b)
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ñ–∞–π–ª –∞–±–æ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∑ –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–∞—à–∏–Ω–∏

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ Swapper Service
docker-compose restart swapper-service

# 5. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏
docker-compose logs swapper-service --tail 30
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ª–æ–≥–∞—Ö:**
```
üîÑ Loading default model: qwen3-8b
‚úÖ Default model loaded: qwen3-8b
```

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥ –∑ –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–∞—à–∏–Ω–∏

```bash
# –ó –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–∞—à–∏–Ω–∏
scp services/swapper-service/config/swapper_config.yaml root@144.76.224.179:/opt/microdao-daarion/config/swapper_config.yaml

# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
ssh root@144.76.224.179
cd /opt/microdao-daarion
docker-compose restart swapper-service
docker-compose logs swapper-service --tail 30
```

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –û–Ω–æ–≤–∏—Ç–∏ —á–µ—Ä–µ–∑ docker-compose (—è–∫—â–æ –∫–æ–Ω—Ñ—ñ–≥ –º–æ–Ω—Ç—É—î—Ç—å—Å—è)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
ssh root@144.76.224.179
cd /opt/microdao-daarion

# –í—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é
nano config/swapper_config.yaml
# –î–æ–¥–∞—Ç–∏: default_model: qwen3-8b

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
docker-compose restart swapper-service
```

---

## üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —á–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏–ª–∞—Å—å –º–æ–¥–µ–ª—å

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
curl http://localhost:8890/status | jq
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "status": "healthy",
  "active_model": "qwen3-8b",
  "available_models": ["qwen3-8b", "qwen3-vl-8b", ...],
  "loaded_models": ["qwen3-8b"],
  "mode": "single-active",
  "total_models": 5
}
```

### 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤ –∫–∞–±—ñ–Ω–µ—Ç—ñ –ù–û–î–ê1

–í—ñ–¥–∫—Ä–∏—Ç–∏: `http://localhost:8899/nodes/node-1-hetzner-gex44`

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- Swapper Service –ø–æ–∫–∞–∑—É—î –∞–∫—Ç–∏–≤–Ω—É –º–æ–¥–µ–ª—å: `qwen3-8b`
- –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª—ñ: `loaded` –∞–±–æ `active`
- VRAM –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è: ~4.87 GB

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä—ñ
docker-compose logs swapper-service | grep -i "default\|qwen3-8b"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üîÑ Loading default model: qwen3-8b
‚úÖ Default model loaded: qwen3-8b
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∑–º—ñ–Ω:
- ‚ùå –í—Å—ñ –º–æ–¥–µ–ª—ñ `UNLOADED` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- ‚ùå –ü–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –ø–æ–≤—ñ–ª—å–Ω–∏–π (~10-30 —Å–µ–∫ –Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è)
- ‚úÖ –ï–∫–æ–Ω–æ–º—ñ—è VRAM (0 GB –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ)

### –ü—ñ—Å–ª—è –∑–º—ñ–Ω:
- ‚úÖ `qwen3-8b` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ
- ‚úÖ –®–≤–∏–¥–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç (~1-2 —Å–µ–∫)
- ‚ö†Ô∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è VRAM: ~4.87 GB (–ø—Ä–∏–π–Ω—è—Ç–Ω–æ –¥–ª—è RTX 4000 SFF Ada 20GB)

---

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏

1. **–®–≤–∏–¥–∫—ñ—Å—Ç—å:**
   - –ü–µ—Ä—à–∏–π –∑–∞–ø–∏—Ç –≤—ñ–¥—Ä–∞–∑—É –ø—Ä–∞—Ü—é—î
   - –ù–µ–º–∞—î –∑–∞—Ç—Ä–∏–º–∫–∏ –Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª—ñ

2. **–ó—Ä—É—á–Ω—ñ—Å—Ç—å:**
   - –ú–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è —Å—Ç–∞—Ä—Ç—É
   - –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —á–µ–∫–∞—Ç–∏ –Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

3. **–û–ø—Ç–∏–º–∞–ª—å–Ω–∏–π –≤–∏–±—ñ—Ä:**
   - `qwen3-8b` - –æ—Å–Ω–æ–≤–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤
   - 4.87 GB - –ø—Ä–∏–π–Ω—è—Ç–Ω–∏–π —Ä–æ–∑–º—ñ—Ä –¥–ª—è 20GB VRAM

---

## ‚öôÔ∏è –Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–º–∫–Ω—É—Ç–∏

### –í–∏–º–∫–Ω—É—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:

```yaml
swapper:
  # default_model: qwen3-8b  # –ó–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ - –º–æ–¥–µ–ª—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –∑–∞ –∑–∞–ø–∏—Ç–æ–º
```

### –ó–º—ñ–Ω–∏—Ç–∏ –Ω–∞ –ª–µ–≥–∫—É –º–æ–¥–µ–ª—å:

```yaml
swapper:
  default_model: qwen2.5-3b-instruct  # –õ–µ–≥–∫–∞ –º–æ–¥–µ–ª—å (1.80 GB)
```

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞:**
- ‚úÖ `services/swapper-service/config/swapper_config.yaml`
- ‚úÖ `services/swapper-service/config/swapper_config_node1.yaml`
- ‚úÖ –õ–æ–≥—ñ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–¥–∞–Ω–∞

**–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫:**
- –û–Ω–æ–≤–∏—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –Ω–∞ –ù–û–î–ê1
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ Swapper Service
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å

---

**–ì–æ—Ç–æ–≤–æ –¥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –Ω–∞ –ù–û–î–ê1!** üöÄ




