# ‚úÖ Swapper Service - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤–∏–∫–æ–Ω–∞–Ω–∞

**–î–∞—Ç–∞:** 2025-11-22  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ –∫–∞–±—ñ–Ω–µ—Ç–∏

---

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω—ñ –∫—Ä–æ–∫–∏

### 1. ‚úÖ Swapper Service –∑–∞–ø—É—â–µ–Ω–æ
- –°–µ—Ä–≤—ñ—Å –∑–∞–ø—É—â–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 8890
- API –¥–æ—Å—Ç—É–ø–Ω–∏–π: `http://localhost:8890`
- Health endpoint –ø—Ä–∞—Ü—é—î: `/health`
- Cabinet API –ø—Ä–∞—Ü—é—î: `/api/cabinet/swapper/status`

### 2. ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ
- ‚úÖ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ `cabinet-integration.tsx` ‚Üí `src/components/swapper/SwapperComponents.tsx`
- ‚úÖ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ `cabinet-integration.css` ‚Üí `src/styles/swapper.css`
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `SwapperPage.tsx` - –ø–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ Swapper
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `SwapperWidget.tsx` - –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π –≤—ñ–¥–∂–µ—Ç –¥–ª—è ConsolePage

### 3. ‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏ –¥–æ–¥–∞–Ω–æ
- ‚úÖ `/swapper` - –ø–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ Swapper Service
- ‚úÖ `/admin/swapper` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç
- ‚úÖ –î–æ–¥–∞–Ω–æ –≤ `App.tsx`

### 4. ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ ConsolePage
- ‚úÖ –î–æ–¥–∞–Ω–æ `SwapperWidget` –≤ –ª—ñ–≤—É –∫–æ–ª–æ–Ω–∫—É ConsolePage
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –ø–æ—Ä—É—á –∑ WalletInfo

### 5. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `.env.local` –∑ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é API URL

---

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ Swapper Service

1. **–ü–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞:**
   ```
   http://localhost:3000/swapper
   –∞–±–æ
   http://localhost:3000/admin/swapper
   ```

2. **–í—ñ–¥–∂–µ—Ç –≤ Console:**
   ```
   http://localhost:3000/console
   ```
   Swapper –≤—ñ–¥–∂–µ—Ç –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ –ª—ñ–≤—ñ–π –∫–æ–ª–æ–Ω—Ü—ñ

### API Endpoints

```bash
# Health check
curl http://localhost:8890/health

# Status –¥–ª—è –∫–∞–±—ñ–Ω–µ—Ç—É
curl http://localhost:8890/api/cabinet/swapper/status

# –ú–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8890/api/cabinet/swapper/metrics/summary
```

---

## üìÅ –°—Ç–≤–æ—Ä–µ–Ω—ñ/–û–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏

1. ‚úÖ `src/pages/SwapperPage.tsx` - –Ω–æ–≤–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞
2. ‚úÖ `src/components/swapper/SwapperComponents.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
3. ‚úÖ `src/styles/swapper.css` - —Å—Ç–∏–ª—ñ
4. ‚úÖ `src/components/console/SwapperWidget.tsx` - –≤—ñ–¥–∂–µ—Ç
5. ‚úÖ `src/pages/ConsolePage.tsx` - –æ–Ω–æ–≤–ª–µ–Ω–æ (–¥–æ–¥–∞–Ω–æ SwapperWidget)
6. ‚úÖ `src/App.tsx` - –æ–Ω–æ–≤–ª–µ–Ω–æ (–¥–æ–¥–∞–Ω–æ –º–∞—Ä—à—Ä—É—Ç–∏)
7. ‚úÖ `.env.local` - –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è

---

## üé® –©–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è

### SwapperPage (–ø–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞)
- ‚úÖ –°—Ç–∞—Ç—É—Å Swapper Service
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ –º–æ–¥–µ–ª—å (—è–∫—â–æ —î)
- ‚úÖ –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –º–æ–¥–µ–ª–µ–π –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º
- ‚úÖ Uptime –∫–æ–∂–Ω–æ—ó –º–æ–¥–µ–ª—ñ (–≤ –≥–æ–¥–∏–Ω–∞—Ö)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ Load/Unload –º–æ–¥–µ–ª–µ–π
- ‚úÖ –ü—ñ–¥—Å—É–º–∫–æ–≤—ñ –º–µ—Ç—Ä–∏–∫–∏

### SwapperWidget (–≤ ConsolePage)
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω–∏–π –≤—ñ–¥–∂–µ—Ç
- ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞ –º–æ–¥–µ–ª—å
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤—ñ—Å—É
- ‚úÖ –®–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è Node #1

–î–ª—è Node #1 (Production Server) –ø–æ—Ç—Ä—ñ–±–Ω–æ:

1. **–û–Ω–æ–≤–∏—Ç–∏ `.env.local`:**
   ```bash
   VITE_SWAPPER_URL=http://swapper-service:8890
   # –∞–±–æ —á–µ—Ä–µ–∑ Nginx:
   VITE_SWAPPER_URL=https://gateway.daarion.city/api/swapper
   ```

2. **–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   ./scripts/deploy-swapper-node1.sh
   ```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Swapper Service
```bash
curl http://localhost:8890/health
```

### 2. –í—ñ–¥–∫—Ä–∏—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- –ü–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞: `http://localhost:3000/swapper`
- –í—ñ–¥–∂–µ—Ç: `http://localhost:3000/console`

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–æ–¥–µ–ª—å
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ uptime
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏

---

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

1. **–î–æ–¥–∞—Ç–∏ –≤ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é ConsolePage:**
   - –ö–Ω–æ–ø–∫–∞ "Swapper Service" –≤ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
   - –®–≤–∏–¥–∫–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏

2. **–î–æ–¥–∞—Ç–∏ real-time –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
   - WebSocket –∞–±–æ polling –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥

3. **–î–æ–¥–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫–∏:**
   - –ì—Ä–∞—Ñ—ñ–∫ uptime –º–æ–¥–µ–ª–µ–π
   - –ì—Ä–∞—Ñ—ñ–∫ request count
   - –Ü—Å—Ç–æ—Ä—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è/–≤–∏–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

Swapper Service —É—Å–ø—ñ—à–Ω–æ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –≤ –∫–∞–±—ñ–Ω–µ—Ç–∏:
- ‚úÖ –°–µ—Ä–≤—ñ—Å –∑–∞–ø—É—â–µ–Ω–æ
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –¥–æ–¥–∞–Ω–æ
- ‚úÖ –ú–∞—Ä—à—Ä—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- ‚úÖ –í—ñ–¥–∂–µ—Ç –¥–æ–¥–∞–Ω–æ –≤ ConsolePage

**–ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏!** üéâ

---

**Last Updated:** 2025-11-22  
**Status:** ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

