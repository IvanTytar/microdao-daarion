# üîç NODE2 Diagnostic Report ‚Äî Post-Git-Cleanup

**–î–∞—Ç–∞:** 27 –ª–∏—Å—Ç–æ–ø–∞–¥–∞ 2025  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å—Ç–∞–Ω—É NODE2 –ø—ñ—Å–ª—è `git filter-repo` –æ–ø–µ—Ä–∞—Ü—ñ—ó

---

## ‚úÖ 1. –ú–æ–¥–µ–ª—ñ ‚Äî –í–°–Ü –ó–ë–ï–†–ï–ñ–ï–ù–Ü (Ollama)

### üì¶ 8 –º–æ–¥–µ–ª–µ–π –≤ Ollama (–∑–∞–≥–∞–ª–æ–º ~118 GB):

| –ú–æ–¥–µ–ª—å | –†–æ–∑–º—ñ—Ä | –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|--------|--------|-----------|------|--------|
| **deepseek-r1:70b** | 42 GB | 70.6B | LLM (reasoning) | ‚úÖ |
| **deepseek-coder:33b** | 18 GB | 33B | Code | ‚úÖ |
| **qwen2.5-coder:32b** | 19 GB | 32.8B | Code | ‚úÖ |
| **gemma2:27b** | 15 GB | 27.2B | LLM (reasoning) | ‚úÖ |
| **mistral-nemo:12b** | 7.1 GB | 12.2B | LLM (reasoning) | ‚úÖ |
| **gpt-oss:latest** | 13 GB | 20.9B | LLM (general) | ‚úÖ |
| **starcoder2:3b** | 1.7 GB | 3B | Code | ‚úÖ |
| **phi3:latest** | 2.2 GB | 3.8B | LLM (lightweight) | ‚úÖ |

**–í–∏—Å–Ω–æ–≤–æ–∫:** –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ LLM-–º–æ–¥–µ–ª—ñ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ! Swapper –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏.

---

### ‚ùå –í–∏–¥–∞–ª–µ–Ω–æ –∑ `models/` (–Ω–µ Ollama):

- **qwen3-vl-32b-instruct** (~130 GB) ‚Äî vision-–º–æ–¥–µ–ª—å –¥–ª—è –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ
  - 65.5 GB `.gguf` —Ñ–∞–π–ª
  - 14x5GB safetensors —Ñ–∞–π–ª—ñ–≤
  - **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** Vision AI (–∞–Ω–∞–ª—ñ–∑ –∑–æ–±—Ä–∞–∂–µ–Ω—å, OCR, –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ñ—Å—Ç—å)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–º–∞—î vision-–º–æ–¥–µ–ª–µ–π –¥–ª—è –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤!

**–†—ñ—à–µ–Ω–Ω—è:** 
1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ `llava:13b` —á–µ—Ä–µ–∑ Ollama (~13 GB)
2. –ê–ë–û –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ Qwen3-VL –∑ HuggingFace (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –∫–∞—Å—Ç–æ–º–Ω–∏–π inference)

---

## ‚úÖ 2. Swapper Service ‚Äî –ó–ê–ü–£–©–ï–ù–û

**–ü–æ—Ä—Ç:** 8890  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Healthy  
**–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:** `swapper_config_node2.yaml`  
**–ú–µ—Ä–µ–∂–∞:** `dagi-network`  
**Ollama URL:** `http://host.docker.internal:11434`

**Health Check:**
```json
{
    "status": "healthy",
    "service": "swapper-service",
    "active_model": null,
    "mode": "single-active"
}
```

**–ê–∫—Ç–∏–≤–æ–≤–∞–Ω—ñ –º–æ–¥–µ–ª—ñ:** 8 (–≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —á–µ—Ä–µ–∑ Ollama)

---

## ‚úÖ 3. DAGI Router ‚Äî –ü–†–ê–¶–Æ–Ñ

**–ü–æ—Ä—Ç:** 9102  
**–°—Ç–∞—Ç—É—Å:** Up 4 days (healthy)  
**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `dagi-router`

**Health Check:**
```bash
curl http://localhost:9102/health
# Status: OK
```

---

## ‚úÖ 4. DAGI Stack ‚Äî –ß–∞—Å—Ç–∫–æ–≤–æ –ü–†–ê–¶–Æ–Ñ

### –ó–∞–ø—É—â–µ–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏:

| –°–µ—Ä–≤—ñ—Å | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|--------|------|-------------|
| **dagi-router** | ‚úÖ Up 4 days | 9102 | –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—è –∞–≥–µ–Ω—Ç—ñ–≤ |
| **dagi-crewai** | ‚úÖ Up 4 days | 8080 | 12 –∞–≥–µ–Ω—Ç—ñ–≤ –≤ 4 workflows |
| **dagi-devtools** | ‚úÖ Up 4 days | - | Dev —É—Ç–∏–ª—ñ—Ç–∏ |
| **dagi-rbac** | ‚úÖ Up 4 days | 8083 | –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É |
| **dagi-gateway** | ‚úÖ Up 4 days | 8081 | API Gateway |
| **dagi-postgres** | ‚úÖ Up 4 days | 5432 | –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö |
| **dagi-web-search-service** | ‚ö†Ô∏è Unhealthy | 8897 | Web –ø–æ—à—É–∫ |

---

### ü§ñ 12 CrewAI –ê–≥–µ–Ω—Ç—ñ–≤ (4 Workflows):

#### 1. **Onboarding Workflow** (3 –∞–≥–µ–Ω—Ç–∏)
- `welcomer` ‚Äî –≤—ñ—Ç–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `role_assigner` ‚Äî –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π
- `guide` ‚Äî –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ —Å–∏—Å—Ç–µ–º—ñ

#### 2. **Code Review Workflow** (3 –∞–≥–µ–Ω—Ç–∏)
- `reviewer` ‚Äî –ø–µ—Ä–µ–≥–ª—è–¥ –∫–æ–¥—É
- `security_checker` ‚Äî –∞–Ω–∞–ª—ñ–∑ –±–µ–∑–ø–µ–∫–∏
- `performance_analyzer` ‚Äî –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

#### 3. **Proposal Review Workflow** (3 –∞–≥–µ–Ω—Ç–∏)
- `legal_checker` ‚Äî —é—Ä–∏–¥–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- `financial_analyzer` ‚Äî —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑
- `impact_assessor` ‚Äî –æ—Ü—ñ–Ω–∫–∞ –≤–ø–ª–∏–≤—É

#### 4. **Task Decomposition Workflow** (3 –∞–≥–µ–Ω—Ç–∏)
- `planner` ‚Äî –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á
- `estimator` ‚Äî –æ—Ü—ñ–Ω–∫–∞ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ
- `dependency_analyzer` ‚Äî –∞–Ω–∞–ª—ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

**API:**
```bash
curl http://localhost:9010/workflow/list
# 4 workflows –¥–æ—Å—Ç—É–ø–Ω—ñ
```

---

## ‚ö†Ô∏è 5. –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ ‚Äî –ß–ê–°–¢–ö–û–í–û

### ‚úÖ –ü—Ä–∞—Ü—é—é—Ç—å:

| –°–µ—Ä–≤—ñ—Å | –ü–æ—Ä—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|--------|------|--------|-------------|
| **Web Search** | 8897 | ‚úÖ Healthy | DuckDuckGo + Google |
| **Vector DB (Qdrant)** | 6333 | ‚úÖ Running | –í–µ–∫—Ç–æ—Ä–Ω–∏–π –ø–æ—à—É–∫ |
| **Agent Cabinet** | 8898 | ‚úÖ Healthy | –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∞–≥–µ–Ω—Ç–∞–º–∏ |
| **MeiliSearch** | 7700 | ‚úÖ Running | –¢–µ–∫—Å—Ç–æ–≤–∏–π –ø–æ—à—É–∫ |

### ‚ùå –ù–ï –ø—Ä–∞—Ü—é—é—Ç—å:

| –°–µ—Ä–≤—ñ—Å | –ü–æ—Ä—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏—á–∏–Ω–∞ |
|--------|------|--------|---------|
| **STT Service** | 8895 | ‚ùå Not running | –ù–µ –∑–∞–ø—É—â–µ–Ω–æ |
| **OCR Service** | 8896 | ‚ùå Not running | –ù–µ –∑–∞–ø—É—â–µ–Ω–æ |

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** `COMPLETE-MULTIMODAL-ECOSYSTEM.md`

---

## üìä 6. –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ NODE2

### –†–µ—Å—É—Ä—Å–∏:
- **CPU:** Apple M4 Max (40-core GPU)
- **RAM:** 64 GB
- **VRAM:** 48 GB (GPU)
- **–î–∏—Å–∫:** ~500 GB –≤—ñ–ª—å–Ω–æ (–ø—ñ—Å–ª—è cleanup)

### Docker –º–µ—Ä–µ–∂–∞:
- `dagi-network` ‚Äî –≤—Å—ñ DAGI —Å–µ—Ä–≤—ñ—Å–∏
- Bridge –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó –º—ñ–∂ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### Ollama:
- **–í–µ—Ä—Å—ñ—è:** Latest
- **URL:** http://localhost:11434
- **Models dir:** `/Users/apple/.ollama/models`

---

## üéØ 7. –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò

### A) **–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ Vision-–º–æ–¥–µ–ª—å** (–¥–ª—è –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ)

**–í–∞—Ä—ñ–∞–Ω—Ç 1: LLaVA —á–µ—Ä–µ–∑ Ollama** (–®–í–ò–î–ö–û, ~13 GB)
```bash
ollama pull llava:13b
```

**–í–∞—Ä—ñ–∞–Ω—Ç 2: Qwen3-VL –∑ HuggingFace** (–ü–û–í–Ü–õ–¨–ù–û, ~130 GB)
```bash
# –ó HuggingFace Hub
huggingface-cli download Qwen/Qwen3-VL-32B-Instruct
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ü–æ—á–∞—Ç–∏ –∑ LLaVA (–º–µ–Ω—à–µ, —à–≤–∏–¥—à–µ), –ø–æ—Ç—ñ–º –∑–∞ –ø–æ—Ç—Ä–µ–±–∏ Qwen3-VL.

---

### B) **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ STT/OCR —Å–µ—Ä–≤—ñ—Å–∏**

```bash
# STT Service (Whisper)
cd ~/microdao-daarion/services/stt-service
docker-compose up -d

# OCR Service (Tesseract + EasyOCR)
cd ~/microdao-daarion/services/ocr-service
docker-compose up -d
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:** `COMPLETE-MULTIMODAL-ECOSYSTEM.md` (—Ä—è–¥–∫–∏ 139-180)

---

### C) **–ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ Swapper –¥–æ DAGI Router**

1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Router –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é (`/opt/daarion/app/services/router/config.yaml`)
2. –î–æ–¥–∞—Ç–∏ `SWAPPER_URL` env var –¥–æ Router:
   ```yaml
   SWAPPER_URL: http://192.168.1.244:8890  # NODE2 IP
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ Router –Ω–∞ NODE1:
   ```bash
   ssh root@144.76.224.179
   docker restart dagi-router
   ```

---

### D) **–Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ CrewAI –∞–≥–µ–Ω—Ç—ñ–≤ —É DAARION City**

**12 –∞–≥–µ–Ω—Ç—ñ–≤ ‚Üí 12 –∫—ñ–º–Ω–∞—Ç** (–∞–±–æ –∑–≥—Ä—É–ø—É–≤–∞—Ç–∏ –ø–æ workflows):
- **Onboarding Hall** ‚Äî 3 –∞–≥–µ–Ω—Ç–∏
- **Code Review Lab** ‚Äî 3 –∞–≥–µ–Ω—Ç–∏
- **Governance Hall** ‚Äî 3 –∞–≥–µ–Ω—Ç–∏
- **Planning Room** ‚Äî 3 –∞–≥–µ–Ω—Ç–∏

**API Integration:**
```python
# city-service ‚Üí dagi-crewai
POST http://localhost:9010/workflow/execute
{
  "workflow": "onboarding",
  "agent": "welcomer",
  "input": {...}
}
```

---

### E) **Web3 Login + Token-gate** (Phase 4)

**–ü—ñ—Å–ª—è –≤—Å—ñ—Ö –∞–≥–µ–Ω—Ç—ñ–≤**:
1. Metamask + SIWE v2
2. `has_DAARION_token` –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
3. –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∫—ñ–º–Ω–∞—Ç
4. Citizenship Pass

---

## üìù 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

**–û—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏:**
- `COMPLETE-MULTIMODAL-ECOSYSTEM.md` ‚Äî –ø–æ–≤–Ω–∞ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
- `DEPLOY_STRATEGY_MULTIMODAL_MVP.md` ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- `services/swapper-service/config/swapper_config_node2.yaml` ‚Äî –∫–æ–Ω—Ñ—ñ–≥ Swapper
- `ROUTER-MULTIMODAL-SUPPORT.md` ‚Äî –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –≤ Router

**–°—Ç–≤–æ—Ä–µ–Ω–æ –ø—ñ–¥ —á–∞—Å –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
- `docs/NODE2_DIAGNOSTIC_REPORT.md` (—Ü–µ–π —Ñ–∞–π–ª)

---

## ‚úÖ 9. –ü–Ü–î–°–£–ú–û–ö

### –ì–æ—Ç–æ–≤–æ:
- ‚úÖ **8 LLM-–º–æ–¥–µ–ª–µ–π –∑–±–µ—Ä–µ–∂–µ–Ω—ñ** –≤ Ollama (–≤–∫–ª—é—á–Ω–æ –∑ DeepSeek 70B)
- ‚úÖ **Swapper Service –∑–∞–ø—É—â–µ–Ω–æ** –Ω–∞ NODE2 (–ø–æ—Ä—Ç 8890)
- ‚úÖ **DAGI Router –ø—Ä–∞—Ü—é—î** (–ø–æ—Ä—Ç 9102)
- ‚úÖ **12 CrewAI –∞–≥–µ–Ω—Ç—ñ–≤ –≥–æ—Ç–æ–≤—ñ** –¥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- ‚úÖ **Web Search + Vector DB –ø—Ä–∞—Ü—é—é—Ç—å**

### –ü–æ—Ç—Ä—ñ–±–Ω–æ:
- ‚ö†Ô∏è **–í—ñ–¥–Ω–æ–≤–∏—Ç–∏ vision-–º–æ–¥–µ–ª—å** (LLaVA –∞–±–æ Qwen3-VL)
- ‚ö†Ô∏è **–ó–∞–ø—É—Å—Ç–∏—Ç–∏ STT/OCR** (–¥–ª—è voice/photo)
- ‚ö†Ô∏è **–ü—ñ–¥–∫–ª—é—á–∏—Ç–∏ Swapper –¥–æ Router** (NODE2 ‚Üí NODE1)
- ‚ö†Ô∏è **–Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∞–≥–µ–Ω—Ç—ñ–≤ —É City** (12 –∞–≥–µ–Ω—Ç—ñ–≤ ‚Üí –∫—ñ–º–Ω–∞—Ç–∏)

---

**–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫—É –≤–∏–∫–æ–Ω–∞–Ω–æ:** 27.11.2025  
**–°—Ç–∞—Ç—É—Å NODE2:** ‚úÖ –ì–æ—Ç–æ–≤–∏–π –¥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ DAARION MVP  
**–ë–ª–æ–∫–µ—Ä—ñ–≤:** –ù–µ–º–∞—î (–≤—Å–µ –ø—Ä–∞—Ü—é—î, –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ª–∏—à–µ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥ —á–∞—Å –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ NODE2 –ø—ñ—Å–ª—è git cleanup –æ–ø–µ—Ä–∞—Ü—ñ—ó.*

