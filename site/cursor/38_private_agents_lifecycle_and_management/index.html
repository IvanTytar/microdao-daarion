
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://IvanTytar.github.io/microdao-daarion/cursor/38_private_agents_lifecycle_and_management/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
    
    
      
        <title>38 — Private Agents Lifecycle & Management (MicroDAO) - DAARION Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#38-private-agents-lifecycle-management-microdao" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DAARION Documentation" class="md-header__button md-logo" aria-label="DAARION Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DAARION Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              38 — Private Agents Lifecycle & Management (MicroDAO)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DAARION Documentation" class="md-nav__button md-logo" aria-label="DAARION Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DAARION Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/architecture-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/daiS_daos_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAIS & DAOS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Internal
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Internal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Infra
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Infra
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/infra/INFRA_AUTOMATION_PACK_V1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infra Automation Pack v1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/infra/monitoring_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/infra/nodes_registry_v0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nodes Registry v0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Specs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Specs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/specs/matrix_presence_aggregator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matrix Presence Aggregator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/specs/city_map_spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    City Map Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/specs/node_join_protocol_draft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Join Protocol (Draft)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-purpose-scope" class="md-nav__link">
    <span class="md-ellipsis">
      1. Purpose &amp; Scope
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-what-is-a-private-agent" class="md-nav__link">
    <span class="md-ellipsis">
      2. What Is a Private Agent?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-agent-types" class="md-nav__link">
    <span class="md-ellipsis">
      3. Agent Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-agent-creation-flow" class="md-nav__link">
    <span class="md-ellipsis">
      4. Agent Creation Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-agent-schema-db" class="md-nav__link">
    <span class="md-ellipsis">
      5. Agent Schema (DB)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-agent-initialization-bootstrap" class="md-nav__link">
    <span class="md-ellipsis">
      6. Agent Initialization (Bootstrap)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Agent Initialization (Bootstrap)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Під час створення агент отримує:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-agent-access-keys" class="md-nav__link">
    <span class="md-ellipsis">
      7. Agent Access Keys
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Agent Access Keys">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      Генерується 1 або більше ключів:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-agent-configuration-model" class="md-nav__link">
    <span class="md-ellipsis">
      8. Agent Configuration Model
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Agent Configuration Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#governance" class="md-nav__link">
    <span class="md-ellipsis">
      Governance може оновити:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-agent-update-flow" class="md-nav__link">
    <span class="md-ellipsis">
      9. Agent Update Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-agent-run-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      10. Agent Run Lifecycle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Agent Run Lifecycle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#101-start" class="md-nav__link">
    <span class="md-ellipsis">
      10.1 Start
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#102-sandbox-spin-up" class="md-nav__link">
    <span class="md-ellipsis">
      10.2 Sandbox Spin-Up
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#103-execute" class="md-nav__link">
    <span class="md-ellipsis">
      10.3 Execute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#104-complete" class="md-nav__link">
    <span class="md-ellipsis">
      10.4 Complete
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-agent-memory-policy" class="md-nav__link">
    <span class="md-ellipsis">
      11. Agent Memory Policy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="11. Agent Memory Policy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#111-no-plaintext-storage" class="md-nav__link">
    <span class="md-ellipsis">
      11.1 No plaintext storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-memory-via-summaries" class="md-nav__link">
    <span class="md-ellipsis">
      11.2 Memory via Summaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-team-confidentiality" class="md-nav__link">
    <span class="md-ellipsis">
      11.3 Team Confidentiality
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-agent-logs" class="md-nav__link">
    <span class="md-ellipsis">
      12. Agent Logs
    </span>
  </a>
  
    <nav class="md-nav" aria-label="12. Agent Logs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-stored-logs" class="md-nav__link">
    <span class="md-ellipsis">
      12.1 Stored logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-retention" class="md-nav__link">
    <span class="md-ellipsis">
      12.2 Retention
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123-sensitive-log-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      12.3 Sensitive Log Filtering
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-agent-suspension" class="md-nav__link">
    <span class="md-ellipsis">
      13. Agent Suspension
    </span>
  </a>
  
    <nav class="md-nav" aria-label="13. Agent Suspension">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Можливі статуси агента:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suspension-logic" class="md-nav__link">
    <span class="md-ellipsis">
      Suspension logic:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-agent-deletion-flow" class="md-nav__link">
    <span class="md-ellipsis">
      14. Agent Deletion Flow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="14. Agent Deletion Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deletion-rules" class="md-nav__link">
    <span class="md-ellipsis">
      Deletion rules:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-agent-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      15. Agent Versioning
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-security-critical-guarantees" class="md-nav__link">
    <span class="md-ellipsis">
      16. Security - Critical Guarantees
    </span>
  </a>
  
    <nav class="md-nav" aria-label="16. Security - Critical Guarantees">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#161-agents-cannot-escalate-access" class="md-nav__link">
    <span class="md-ellipsis">
      16.1 Agents cannot escalate access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#162-agents-cannot-bypass-confidential-mode" class="md-nav__link">
    <span class="md-ellipsis">
      16.2 Agents cannot bypass confidential mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#163-agents-cannot-perform-chainembassy-actions" class="md-nav__link">
    <span class="md-ellipsis">
      16.3 Agents cannot perform chain/embassy actions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#164-agents-cannot-break-sandbox" class="md-nav__link">
    <span class="md-ellipsis">
      16.4 Agents cannot break sandbox
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#165-agents-cannot-exceed-quotas" class="md-nav__link">
    <span class="md-ellipsis">
      16.5 Agents cannot exceed quotas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-events-generated-by-agent-lifecycle" class="md-nav__link">
    <span class="md-ellipsis">
      17. Events Generated by Agent Lifecycle
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-integration-with-pdp-pep-mesh-tools" class="md-nav__link">
    <span class="md-ellipsis">
      18. Integration with PDP / PEP / Mesh / Tools
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-integration-with-other-docs" class="md-nav__link">
    <span class="md-ellipsis">
      19. Integration with Other Docs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-cursor" class="md-nav__link">
    <span class="md-ellipsis">
      20. Завдання для Cursor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-summary" class="md-nav__link">
    <span class="md-ellipsis">
      21. Summary
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="38-private-agents-lifecycle-management-microdao">38 — Private Agents Lifecycle &amp; Management (MicroDAO)<a class="headerlink" href="#38-private-agents-lifecycle-management-microdao" title="Permanent link">&para;</a></h1>
<p><em>Життєвий цикл приватних агентів, створення, конфігурація, ключі доступу, capability-політики, оновлення, відновлення, видалення, безпечний аудит</em></p>
<hr />
<h2 id="1-purpose-scope">1. Purpose &amp; Scope<a class="headerlink" href="#1-purpose-scope" title="Permanent link">&para;</a></h2>
<p>Цей документ описує <strong>повний життєвий цикл приватного агента</strong>:</p>
<ul>
<li>створення</li>
<li>реєстрація та ініціалізація</li>
<li>конфігурація</li>
<li>генерація ключів</li>
<li>робота та інвокації</li>
<li>оновлення моделі</li>
<li>облік пам'яті</li>
<li>логування</li>
<li>безпека</li>
<li>призупинення</li>
<li>видалення</li>
</ul>
<p>Це must-have документ для:</p>
<ul>
<li>core backend,</li>
<li>agent orchestrator team,</li>
<li>security team,</li>
<li>governance,</li>
<li>app UI.</li>
</ul>
<hr />
<h2 id="2-what-is-a-private-agent">2. What Is a Private Agent?<a class="headerlink" href="#2-what-is-a-private-agent" title="Permanent link">&para;</a></h2>
<p>Приватний агент — це:</p>
<div class="codehilite"><pre><span></span><code>Індивідуальний асистент, прив&#39;язаний до:
- користувача або
- команди (microDAO)
</code></pre></div>

<p>Має:</p>
<ul>
<li>власну конфігурацію,</li>
<li>власні ключі доступу,</li>
<li>власні capabilities,</li>
<li>власні usage-ліміти,</li>
<li>власний sandbox,</li>
<li>окремі логи,</li>
<li>окремий vault для embedding-based memory.</li>
</ul>
<hr />
<h2 id="3-agent-types">3. Agent Types<a class="headerlink" href="#3-agent-types" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>User Agent</strong></li>
<li>створений для конкретного користувача</li>
<li>
<p>ключ: <code>ak_agent_u_*</code></p>
</li>
<li>
<p><strong>Team Agent (microDAO)</strong></p>
</li>
<li>належить команді</li>
<li>доступ має Owner/Guardian</li>
<li>
<p>ключ: <code>ak_agent_t_*</code></p>
</li>
<li>
<p><strong>System Agent</strong></p>
</li>
<li>глобальні агенти DAARION</li>
<li>ключ: <code>ak_agent_sys_*</code></li>
</ol>
<hr />
<h2 id="4-agent-creation-flow">4. Agent Creation Flow<a class="headerlink" href="#4-agent-creation-flow" title="Permanent link">&para;</a></h2>
<p>Sequence:</p>
<div class="codehilite"><pre><span></span><code><span class="nx">sequenceDiagram</span>
<span class="w">    </span><span class="nx">participant</span><span class="w"> </span><span class="nx">U</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">User</span>
<span class="w">    </span><span class="nx">participant</span><span class="w"> </span><span class="nx">G</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">API</span><span class="w"> </span><span class="nx">Gateway</span>
<span class="w">    </span><span class="nx">participant</span><span class="w"> </span><span class="nx">PDP</span>
<span class="w">    </span><span class="nx">participant</span><span class="w"> </span><span class="nx">A</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nx">Agent</span><span class="w"> </span><span class="nx">Orchestrator</span>
<span class="w">    </span><span class="nx">participant</span><span class="w"> </span><span class="nx">DB</span>

<span class="w">    </span><span class="nx">U</span><span class="o">-&gt;</span><span class="p">&gt;</span><span class="nx">G</span><span class="p">:</span><span class="w"> </span><span class="nx">POST</span><span class="w"> </span><span class="o">/</span><span class="nx">agents</span><span class="o">/</span><span class="nx">create</span><span class="w"> </span><span class="p">{</span><span class="k">type</span><span class="p">,</span><span class="w"> </span><span class="nx">name</span><span class="p">}</span>
<span class="w">    </span><span class="nx">G</span><span class="o">-&gt;</span><span class="p">&gt;</span><span class="nx">PDP</span><span class="p">:</span><span class="w"> </span><span class="nx">authorize</span><span class="p">(</span><span class="nx">agent</span><span class="p">.</span><span class="nx">create</span><span class="p">)</span>
<span class="w">    </span><span class="nx">PDP</span><span class="o">--&gt;&gt;</span><span class="nx">G</span><span class="p">:</span><span class="w"> </span><span class="nx">allow</span>
<span class="w">    </span><span class="nx">G</span><span class="o">-&gt;</span><span class="p">&gt;</span><span class="nx">A</span><span class="p">:</span><span class="w"> </span><span class="nx">create_agent_request</span>
<span class="w">    </span><span class="nx">A</span><span class="o">-&gt;</span><span class="p">&gt;</span><span class="nx">DB</span><span class="p">:</span><span class="w"> </span><span class="nx">INSERT</span><span class="w"> </span><span class="nx">INTO</span><span class="w"> </span><span class="nx">agents</span><span class="w"> </span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="w">    </span><span class="nx">DB</span><span class="o">--&gt;&gt;</span><span class="nx">A</span><span class="p">:</span><span class="w"> </span><span class="nx">agent_id</span>
<span class="w">    </span><span class="nx">A</span><span class="o">-&gt;</span><span class="p">&gt;</span><span class="nx">DB</span><span class="p">:</span><span class="w"> </span><span class="nx">INSERT</span><span class="w"> </span><span class="nx">INTO</span><span class="w"> </span><span class="nx">access_keys</span><span class="w"> </span><span class="p">(</span><span class="nx">ak_agent_123</span><span class="p">)</span>
<span class="w">    </span><span class="nx">A</span><span class="o">--&gt;&gt;</span><span class="nx">G</span><span class="p">:</span><span class="w"> </span><span class="nx">agent_created</span>
<span class="w">    </span><span class="nx">G</span><span class="o">--&gt;&gt;</span><span class="nx">U</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nx">agent_id</span><span class="p">,</span><span class="w"> </span><span class="nx">key_id</span><span class="p">}</span>
</code></pre></div>

<hr />
<h2 id="5-agent-schema-db">5. Agent Schema (DB)<a class="headerlink" href="#5-agent-schema-db" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="n">agents</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">key</span><span class="p">,</span>
<span class="w">  </span><span class="n">team_id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">owner_user_id</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">description</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span>
<span class="w">  </span><span class="n">llm_model</span><span class="w"> </span><span class="nb">text</span><span class="p">,</span><span class="w">        </span><span class="c1">-- default model</span>
<span class="w">  </span><span class="n">config</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w">          </span><span class="c1">-- toolsets, behavior, limits</span>
<span class="w">  </span><span class="n">created_at</span><span class="w"> </span><span class="n">timestamptz</span><span class="p">,</span>
<span class="w">  </span><span class="n">updated_at</span><span class="w"> </span><span class="n">timestamptz</span><span class="p">,</span>
<span class="w">  </span><span class="n">archived</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="k">false</span>
<span class="p">);</span>
</code></pre></div>

<hr />
<h2 id="6-agent-initialization-bootstrap">6. Agent Initialization (Bootstrap)<a class="headerlink" href="#6-agent-initialization-bootstrap" title="Permanent link">&para;</a></h2>
<h3 id="_1">Під час створення агент отримує:<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<ul>
<li>capabilities:</li>
</ul>
<p><code>text
  agent.run.invoke
  agent.read.summary
  tool.&lt;safe&gt;.* (math, text, memory, embeddings)</code></p>
<ul>
<li>планові ліміти:</li>
<li>max_runs_per_day (залежить від плану)</li>
<li>
<p>max_cost_per_run</p>
</li>
<li>
<p>sandbox контракти:</p>
</li>
<li>
<p>cpu/memory/timeouts</p>
</li>
<li>
<p>default LLM model (team default або global default)</p>
</li>
</ul>
<hr />
<h2 id="7-agent-access-keys">7. Agent Access Keys<a class="headerlink" href="#7-agent-access-keys" title="Permanent link">&para;</a></h2>
<h3 id="1">Генерується 1 або більше ключів:<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>ak_agent_&lt;agent_id&gt;_&lt;random&gt;
</code></pre></div>

<p>З capability-наборами:</p>
<ul>
<li><code>agent.run.invoke</code></li>
<li><code>tool.safe.*</code></li>
<li>(опціонально) <code>tool.internal.*</code></li>
<li>(опціонально) <code>tool.llm.invoke</code></li>
</ul>
<p>Ключ:</p>
<ul>
<li>активний / призупинений / видалений</li>
<li>має ttl (опціонально)</li>
<li>може бути re-rotated</li>
</ul>
<hr />
<h2 id="8-agent-configuration-model">8. Agent Configuration Model<a class="headerlink" href="#8-agent-configuration-model" title="Permanent link">&para;</a></h2>
<p>У таблиці <code>agents.config</code> зберігається JSON:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gpt-4o-mini&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;system_prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;You are a private agent...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tools_allowed&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;math&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;memory&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;max_tokens&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;max_parallel_runs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sandbox_limits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;timeout_sec&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;cpu&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.5&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;memory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;512m&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="governance">Governance може оновити:<a class="headerlink" href="#governance" title="Permanent link">&para;</a></h3>
<ul>
<li><code>tools_allowed</code>,</li>
<li>максимальні ліміти,</li>
<li>доступ до категорії C/D tools.</li>
</ul>
<hr />
<h2 id="9-agent-update-flow">9. Agent Update Flow<a class="headerlink" href="#9-agent-update-flow" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">sequenceDiagram</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">U</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="n">Gateway</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">PDP</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="n">Orchestrator</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">DB</span>

<span class="w">    </span><span class="n">U</span><span class="o">-&gt;&gt;</span><span class="n">G</span><span class="o">:</span><span class="w"> </span><span class="n">PATCH</span><span class="w"> </span><span class="o">/</span><span class="n">agents</span><span class="o">/:</span><span class="n">id</span><span class="w"> </span><span class="p">{</span><span class="n">config_changes</span><span class="p">}</span>
<span class="w">    </span><span class="n">G</span><span class="o">-&gt;&gt;</span><span class="n">PDP</span><span class="o">:</span><span class="w"> </span><span class="n">authorize</span><span class="p">(</span><span class="n">agent</span><span class="p">.</span><span class="n">update</span><span class="p">)</span>
<span class="w">    </span><span class="n">PDP</span><span class="o">--&gt;&gt;</span><span class="n">G</span><span class="o">:</span><span class="w"> </span><span class="n">allow</span>
<span class="w">    </span><span class="n">G</span><span class="o">-&gt;&gt;</span><span class="n">A</span><span class="o">:</span><span class="w"> </span><span class="n">update_config</span>
<span class="w">    </span><span class="n">A</span><span class="o">-&gt;&gt;</span><span class="n">DB</span><span class="o">:</span><span class="w"> </span><span class="n">UPDATE</span><span class="w"> </span><span class="n">agents</span><span class="w"> </span><span class="nf">SET</span><span class="w"> </span><span class="n">config</span><span class="o">=</span><span class="p">...</span>
<span class="w">    </span><span class="n">DB</span><span class="o">--&gt;&gt;</span><span class="n">A</span><span class="o">:</span><span class="w"> </span><span class="n">ok</span>
<span class="w">    </span><span class="n">A</span><span class="o">--&gt;&gt;</span><span class="n">G</span><span class="o">:</span><span class="w"> </span><span class="n">updated</span>
<span class="w">    </span><span class="n">G</span><span class="o">--&gt;&gt;</span><span class="n">U</span><span class="o">:</span><span class="w"> </span><span class="n">updated</span>
</code></pre></div>

<hr />
<h2 id="10-agent-run-lifecycle">10. Agent Run Lifecycle<a class="headerlink" href="#10-agent-run-lifecycle" title="Permanent link">&para;</a></h2>
<h3 id="101-start">10.1 Start<a class="headerlink" href="#101-start" title="Permanent link">&para;</a></h3>
<ul>
<li>Gateway перевіряє <code>agent.run.invoke</code>.</li>
<li>Orchestrator створює новий запис у <code>agent_runs</code>.</li>
</ul>
<h3 id="102-sandbox-spin-up">10.2 Sandbox Spin-Up<a class="headerlink" href="#102-sandbox-spin-up" title="Permanent link">&para;</a></h3>
<p>Orchestrator:</p>
<ul>
<li>створює sandbox,</li>
<li>завантажує config.agents,</li>
<li>створює контекст:
  <code>agent_run_id</code>, <code>team_id</code>, <code>usage_counters</code>.</li>
</ul>
<h3 id="103-execute">10.3 Execute<a class="headerlink" href="#103-execute" title="Permanent link">&para;</a></h3>
<p>Sandbox:</p>
<ul>
<li>бере prompt,</li>
<li>запускає LLM chain,</li>
<li>викликає дозволені інструменти,</li>
<li>логування в окремий канал,</li>
<li>memory summarization (опціонально).</li>
</ul>
<h3 id="104-complete">10.4 Complete<a class="headerlink" href="#104-complete" title="Permanent link">&para;</a></h3>
<p>Orchestrator:</p>
<ul>
<li>пише результат у DB,</li>
<li>публікує подію:</li>
</ul>
<p><code>text
  agent.run.completed</code></p>
<ul>
<li>повертає відповідь Gateway → користувачу.</li>
</ul>
<hr />
<h2 id="11-agent-memory-policy">11. Agent Memory Policy<a class="headerlink" href="#11-agent-memory-policy" title="Permanent link">&para;</a></h2>
<h3 id="111-no-plaintext-storage">11.1 No plaintext storage<a class="headerlink" href="#111-no-plaintext-storage" title="Permanent link">&para;</a></h3>
<p>Агент не може зберігати raw messages.</p>
<h3 id="112-memory-via-summaries">11.2 Memory via Summaries<a class="headerlink" href="#112-memory-via-summaries" title="Permanent link">&para;</a></h3>
<p>Дозволено:</p>
<ul>
<li>короткі текстові summaries,</li>
<li>embeddings vectors.</li>
</ul>
<p>Зберігаються в <code>comemory_items</code>.</p>
<h3 id="113-team-confidentiality">11.3 Team Confidentiality<a class="headerlink" href="#113-team-confidentiality" title="Permanent link">&para;</a></h3>
<p>Якщо команда confidential:</p>
<ul>
<li>агент не бачить повного контенту,</li>
<li>працює з summary / embeddings.</li>
</ul>
<hr />
<h2 id="12-agent-logs">12. Agent Logs<a class="headerlink" href="#12-agent-logs" title="Permanent link">&para;</a></h2>
<h3 id="121-stored-logs">12.1 Stored logs<a class="headerlink" href="#121-stored-logs" title="Permanent link">&para;</a></h3>
<p>Логи агента містять:</p>
<ul>
<li>час виконання,</li>
<li>chain-of-tools (але без plaintext),</li>
<li>токени, що були використані,</li>
<li>summarize input,</li>
<li>summarize output.</li>
</ul>
<h3 id="122-retention">12.2 Retention<a class="headerlink" href="#122-retention" title="Permanent link">&para;</a></h3>
<ul>
<li>24–72 години (залежно від плану),</li>
<li>7–30 днів для Platformium.</li>
</ul>
<h3 id="123-sensitive-log-filtering">12.3 Sensitive Log Filtering<a class="headerlink" href="#123-sensitive-log-filtering" title="Permanent link">&para;</a></h3>
<ul>
<li>вилучення prompt injection,</li>
<li>маскування user secrets.</li>
</ul>
<hr />
<h2 id="13-agent-suspension">13. Agent Suspension<a class="headerlink" href="#13-agent-suspension" title="Permanent link">&para;</a></h2>
<h3 id="_2">Можливі статуси агента:<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<ul>
<li>active</li>
<li>suspended (порушення політик, надмірне використання)</li>
<li>archived (неактивний)</li>
<li>deleted</li>
</ul>
<h3 id="suspension-logic">Suspension logic:<a class="headerlink" href="#suspension-logic" title="Permanent link">&para;</a></h3>
<ul>
<li>Governance / Owner може призупинити агента.</li>
<li>Причини:</li>
<li>перевищення квот,</li>
<li>підозріла активність,</li>
<li>небезпечні chain-of-actions.</li>
</ul>
<hr />
<h2 id="14-agent-deletion-flow">14. Agent Deletion Flow<a class="headerlink" href="#14-agent-deletion-flow" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">sequenceDiagram</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">U</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">G</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">PDP</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="n">Orchestrator</span>
<span class="w">    </span><span class="n">participant</span><span class="w"> </span><span class="n">DB</span>

<span class="w">    </span><span class="n">U</span><span class="o">-&gt;&gt;</span><span class="n">G</span><span class="o">:</span><span class="w"> </span><span class="n">DELETE</span><span class="w"> </span><span class="o">/</span><span class="n">agents</span><span class="o">/:</span><span class="n">id</span>
<span class="w">    </span><span class="n">G</span><span class="o">-&gt;&gt;</span><span class="n">PDP</span><span class="o">:</span><span class="w"> </span><span class="n">authorize</span><span class="p">(</span><span class="n">agent</span><span class="p">.</span><span class="n">delete</span><span class="p">)</span>
<span class="w">    </span><span class="n">PDP</span><span class="o">--&gt;&gt;</span><span class="n">G</span><span class="o">:</span><span class="w"> </span><span class="n">allow</span>
<span class="w">    </span><span class="n">G</span><span class="o">-&gt;&gt;</span><span class="n">A</span><span class="o">:</span><span class="w"> </span><span class="n">delete_agent</span>
<span class="w">    </span><span class="n">A</span><span class="o">-&gt;&gt;</span><span class="n">DB</span><span class="o">:</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="n">agent</span>
<span class="w">    </span><span class="n">A</span><span class="o">-&gt;&gt;</span><span class="n">DB</span><span class="o">:</span><span class="w"> </span><span class="n">revoke</span><span class="w"> </span><span class="n">keys</span>
<span class="w">    </span><span class="n">A</span><span class="o">--&gt;&gt;</span><span class="n">G</span><span class="o">:</span><span class="w"> </span><span class="n">deleted</span>
<span class="w">    </span><span class="n">G</span><span class="o">--&gt;&gt;</span><span class="n">U</span><span class="o">:</span><span class="w"> </span><span class="n">deleted</span>
</code></pre></div>

<h3 id="deletion-rules">Deletion rules:<a class="headerlink" href="#deletion-rules" title="Permanent link">&para;</a></h3>
<ul>
<li>агент позначається <code>archived=true</code> (м'яке видалення),</li>
<li>ключі відкликані,</li>
<li>sandbox конфігурація очищується,</li>
<li>логи зберігаються N днів.</li>
</ul>
<hr />
<h2 id="15-agent-versioning">15. Agent Versioning<a class="headerlink" href="#15-agent-versioning" title="Permanent link">&para;</a></h2>
<p>Агенти мають версію:</p>
<div class="codehilite"><pre><span></span><code>agent.version.major.minor.patch
</code></pre></div>

<p>Оновлення можливе у 3 режимах:</p>
<ul>
<li><strong>manual</strong> (Owner/Guardian),</li>
<li><strong>auto-patch</strong> (security fixes),</li>
<li><strong>auto-upgrade</strong> (Platformium).</li>
</ul>
<hr />
<h2 id="16-security-critical-guarantees">16. Security - Critical Guarantees<a class="headerlink" href="#16-security-critical-guarantees" title="Permanent link">&para;</a></h2>
<h3 id="161-agents-cannot-escalate-access">16.1 Agents cannot escalate access<a class="headerlink" href="#161-agents-cannot-escalate-access" title="Permanent link">&para;</a></h3>
<p>Немає способу отримати додаткові capabilities:</p>
<ul>
<li>ні через prompt,</li>
<li>ні через tool,</li>
<li>ні через plugin.</li>
</ul>
<h3 id="162-agents-cannot-bypass-confidential-mode">16.2 Agents cannot bypass confidential mode<a class="headerlink" href="#162-agents-cannot-bypass-confidential-mode" title="Permanent link">&para;</a></h3>
<ul>
<li>Orchestrator гарантує redaction/plaintext-filtering.</li>
</ul>
<h3 id="163-agents-cannot-perform-chainembassy-actions">16.3 Agents cannot perform chain/embassy actions<a class="headerlink" href="#163-agents-cannot-perform-chainembassy-actions" title="Permanent link">&para;</a></h3>
<p>Без capability tool (яких у агента за замовчуванням немає).</p>
<h3 id="164-agents-cannot-break-sandbox">16.4 Agents cannot break sandbox<a class="headerlink" href="#164-agents-cannot-break-sandbox" title="Permanent link">&para;</a></h3>
<ul>
<li>locked FS,</li>
<li>banned syscalls,</li>
<li>no external internet.</li>
</ul>
<h3 id="165-agents-cannot-exceed-quotas">16.5 Agents cannot exceed quotas<a class="headerlink" href="#165-agents-cannot-exceed-quotas" title="Permanent link">&para;</a></h3>
<p>Runtime викликає Usage Service перед кожним кроком.</p>
<hr />
<h2 id="17-events-generated-by-agent-lifecycle">17. Events Generated by Agent Lifecycle<a class="headerlink" href="#17-events-generated-by-agent-lifecycle" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Event</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>agent.created</code></td>
<td>новий агент</td>
</tr>
<tr>
<td><code>agent.updated</code></td>
<td>конфігурація оновлена</td>
</tr>
<tr>
<td><code>agent.deleted</code></td>
<td>видалено</td>
</tr>
<tr>
<td><code>agent.run.started</code></td>
<td>запуск виконання</td>
</tr>
<tr>
<td><code>agent.run.completed</code></td>
<td>завершення</td>
</tr>
<tr>
<td><code>agent.run.failed</code></td>
<td>помилка</td>
</tr>
<tr>
<td><code>agent.run.rate_limited</code></td>
<td>перевищено ліміти</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="18-integration-with-pdp-pep-mesh-tools">18. Integration with PDP / PEP / Mesh / Tools<a class="headerlink" href="#18-integration-with-pdp-pep-mesh-tools" title="Permanent link">&para;</a></h2>
<p>Агенти повністю інтегровані з:</p>
<ul>
<li><strong>PEP (Gateway)</strong> → для входу/інвокації</li>
<li><strong>PDP</strong> → для прав на кожен tool</li>
<li><strong>Mesh</strong> → для internal API доступів</li>
<li><strong>Tool Proxy</strong> → жорсткі правила безпеки</li>
<li><strong>Usage Service</strong> → ліміти compute</li>
<li><strong>Governance</strong> → контроль правил</li>
</ul>
<hr />
<h2 id="19-integration-with-other-docs">19. Integration with Other Docs<a class="headerlink" href="#19-integration-with-other-docs" title="Permanent link">&para;</a></h2>
<p>Цей документ доповнює:</p>
<ul>
<li><code>12_agent_runtime_core.md</code></li>
<li><code>36_agent_runtime_isolation_and_sandboxing.md</code></li>
<li><code>37_agent_tools_and_plugins_specification.md</code></li>
<li><code>32_policy_service_PDP_design.md</code></li>
<li><code>33_api_gateway_security_and_pep.md</code></li>
<li><code>31_governance_policies_for_capabilities_and_quotas.md</code></li>
</ul>
<hr />
<h2 id="20-cursor">20. Завдання для Cursor<a class="headerlink" href="#20-cursor" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>You are a senior backend engineer. Implement Private Agents Lifecycle &amp; Management using:
- 38_private_agents_lifecycle_and_management.md
- 12_agent_runtime_core.md
- 36_agent_runtime_isolation_and_sandboxing.md

Tasks:
1) Create agents table schema.
2) Implement Agent Creation Flow (with PDP authorization).
3) Implement Agent Initialization (bootstrap capabilities, limits, sandbox config).
4) Create Agent Access Keys generation and management.
5) Implement Agent Configuration Model (JSON config storage).
6) Implement Agent Update Flow.
7) Implement Agent Run Lifecycle (Start, Sandbox Spin-Up, Execute, Complete).
8) Add Agent Memory Policy (no plaintext, summaries only).
9) Implement Agent Logs (storage, retention, filtering).
10) Add Agent Suspension logic.
11) Implement Agent Deletion Flow (soft delete, key revocation).
12) Add Agent Versioning.
13) Implement security guarantees.
14) Generate lifecycle events (NATS).

Output:
- list of modified files
- diff
- summary
</code></pre></div>

<hr />
<h2 id="21-summary">21. Summary<a class="headerlink" href="#21-summary" title="Permanent link">&para;</a></h2>
<p>Життєвий цикл приватних агентів у DAARION.city:</p>
<ul>
<li>чітко структурований,</li>
<li>безпечно ізольований,</li>
<li>контролюється PDP/PEP,</li>
<li>повністю керований governance,</li>
<li>підтримує інструменти лише через Tool Proxy,</li>
<li>економічно керований через 1T/usage,</li>
<li>забезпечує конфіденційність для команд,</li>
<li>має аудит, версіонування та журнал дій.</li>
</ul>
<p>Це — <strong>база для масштабованої, безпечної, керованої екосистеми приватних агентів</strong>.</p>
<hr />
<p><strong>Версія:</strong> 1.0<br />
<strong>Останнє оновлення:</strong> 2024-11-14</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.instant", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
    
  </body>
</html>