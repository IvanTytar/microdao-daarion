
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://IvanTytar.github.io/microdao-daarion/testing/voice_chat_test/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.18">
    
    
      
        <title>–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —á–∞—Ç—É (STT) —á–µ—Ä–µ–∑ Telegram - DAARION Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stt-telegram" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DAARION Documentation" class="md-header__button md-logo" aria-label="DAARION Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DAARION Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —á–∞—Ç—É (STT) —á–µ—Ä–µ–∑ Telegram
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DAARION Documentation" class="md-nav__button md-logo" aria-label="DAARION Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    DAARION Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/architecture-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../public/daiS_daos_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DAIS & DAOS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Internal
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Internal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Infra
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Infra
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/infra/INFRA_AUTOMATION_PACK_V1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Infra Automation Pack v1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/infra/monitoring_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitoring Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/infra/nodes_registry_v0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nodes Registry v0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Specs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Specs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/specs/matrix_presence_aggregator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matrix Presence Aggregator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/specs/city_map_spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    City Map Spec
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../internal/specs/node_join_protocol_draft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Node Join Protocol (Draft)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      üé§ –©–æ —Ç–µ—Å—Ç—É—î–º–æ?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üé§ –©–æ —Ç–µ—Å—Ç—É—î–º–æ?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-speech-to-text-stt" class="md-nav__link">
    <span class="md-ellipsis">
      1. Speech-to-Text (STT)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-telegram" class="md-nav__link">
    <span class="md-ellipsis">
      2. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Telegram
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      ‚úÖ –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚úÖ –ü–µ—Ä–µ–¥—É–º–æ–≤–∏">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-stt" class="md-nav__link">
    <span class="md-ellipsis">
      1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ STT —Å–µ—Ä–≤—ñ—Å—É
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-telegram-gateway" class="md-nav__link">
    <span class="md-ellipsis">
      2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Telegram Gateway
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-local-telegram-bot-api" class="md-nav__link">
    <span class="md-ellipsis">
      3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Local Telegram Bot API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-case-1" class="md-nav__link">
    <span class="md-ellipsis">
      Test Case 1: –ë–∞–∑–æ–≤–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-case-2" class="md-nav__link">
    <span class="md-ellipsis">
      Test Case 2: –î–æ–≤–≥–µ –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-case-3" class="md-nav__link">
    <span class="md-ellipsis">
      Test Case 3: –†—ñ–∑–Ω—ñ –º–æ–≤–∏
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-case-4" class="md-nav__link">
    <span class="md-ellipsis">
      Test Case 4: –§–æ–Ω–æ–≤—ñ —à—É–º–∏
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      üêõ Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üêõ Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      –ü—Ä–æ–±–ª–µ–º–∞ 1: –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –≥–æ–ª–æ—Å–æ–≤—ñ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-stt" class="md-nav__link">
    <span class="md-ellipsis">
      –ü—Ä–æ–±–ª–µ–º–∞ 2: STT –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ä–æ–∂–Ω—ñ–π —Ç–µ–∫—Å—Ç
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-30" class="md-nav__link">
    <span class="md-ellipsis">
      –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–æ–≤—ñ–ª—å–Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è (&gt; 30 —Å–µ–∫)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics-stt" class="md-nav__link">
    <span class="md-ellipsis">
      üìä Metrics –¥–ª—è STT
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      ‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="stt-telegram">–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —á–∞—Ç—É (STT) —á–µ—Ä–µ–∑ Telegram<a class="headerlink" href="#stt-telegram" title="Permanent link">&para;</a></h1>
<p><strong>–î–∞—Ç–∞</strong>: 2025-11-18<br />
<strong>–°–µ—Ä–≤–µ—Ä</strong>: 144.76.224.179<br />
<strong>–ë–æ—Ç–∏</strong>: DAARWIZZ, Helion, GREENFOOD</p>
<hr />
<h2 id="_1">üé§ –©–æ —Ç–µ—Å—Ç—É—î–º–æ?<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="1-speech-to-text-stt">1. Speech-to-Text (STT)<a class="headerlink" href="#1-speech-to-text-stt" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>–°–µ—Ä–≤—ñ—Å</strong>: <code>dagi-stt</code> (–ø–æ—Ä—Ç 9000)</li>
<li><strong>–ú–æ–¥–µ–ª—å</strong>: Whisper (faster-whisper)</li>
<li><strong>–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è</strong>: –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è –≥–æ–ª–æ—Å–æ–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ Telegram</li>
</ul>
<h3 id="2-telegram">2. –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Telegram<a class="headerlink" href="#2-telegram" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Gateway</strong>: <code>telegram-gateway</code> (Long Polling)</li>
<li><strong>Endpoint</strong>: <code>/stt</code> –Ω–∞ dagi-stt</li>
<li><strong>–§–ª–æ—É</strong>: </li>
<li>–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–¥—Å–∏–ª–∞—î –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è</li>
<li>Telegram Gateway –æ—Ç—Ä–∏–º—É—î <code>voice</code> –∞–±–æ <code>audio</code> –∞–±–æ <code>video_note</code></li>
<li>–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –∞—É–¥—ñ–æ —á–µ—Ä–µ–∑ Local Telegram Bot API</li>
<li>–í—ñ–¥–ø—Ä–∞–≤–ª—è—î –Ω–∞ <code>/stt</code> (dagi-stt)</li>
<li>–û—Ç—Ä–∏–º—É—î —Ç–µ–∫—Å—Ç</li>
<li>–í—ñ–¥–ø—Ä–∞–≤–ª—è—î —Ç–µ–∫—Å—Ç –≤ DAGI Router (—è–∫ –∑–≤–∏—á–∞–π–Ω–µ —Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è)</li>
<li>–ü–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É</li>
</ul>
<hr />
<h2 id="_2">‚úÖ –ü–µ—Ä–µ–¥—É–º–æ–≤–∏<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="1-stt">1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ STT —Å–µ—Ä–≤—ñ—Å—É<a class="headerlink" href="#1-stt" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É</span>
docker<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>dagi-stt

<span class="c1"># –¢–µ—Å—Ç health endpoint (—è–∫—â–æ —î)</span>
curl<span class="w"> </span>http://localhost:9000/health

<span class="c1"># –õ–æ–≥–∏</span>
docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">50</span><span class="w"> </span>dagi-stt
</code></pre></div>

<p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π –≤–∏–≤—ñ–¥</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">INFO</span><span class="o">:</span><span class="w">     </span><span class="n">Started</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
<span class="n">INFO</span><span class="o">:</span><span class="w">     </span><span class="n">Waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">startup</span><span class="o">.</span>
<span class="n">INFO</span><span class="o">:</span><span class="w">     </span><span class="n">Application</span><span class="w"> </span><span class="n">startup</span><span class="w"> </span><span class="n">complete</span><span class="o">.</span>
<span class="n">INFO</span><span class="o">:</span><span class="w">     </span><span class="n">Uvicorn</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="o">:</span><span class="mi">9000</span>
</code></pre></div>

<h3 id="2-telegram-gateway">2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Telegram Gateway<a class="headerlink" href="#2-telegram-gateway" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># –°—Ç–∞—Ç—É—Å</span>
docker<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>telegram-gateway

<span class="c1"># –õ–æ–≥–∏ (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ polling)</span>
docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">50</span><span class="w"> </span>telegram-gateway<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;(daarwizz|helion|greenfood|polling)&#39;</span>
</code></pre></div>

<p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π –≤–∏–≤—ñ–¥</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">telegram_listener</span><span class="o">:</span><span class="err">ü§ñ</span><span class="w"> </span><span class="n">Creating</span><span class="w"> </span><span class="n">bot</span><span class="o">:</span><span class="w"> </span><span class="mi">8323412397</span><span class="o">:</span><span class="n">AAFxa</span><span class="o">...</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">aiogram</span><span class="o">.</span><span class="na">dispatcher</span><span class="o">:</span><span class="n">Run</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">bot</span><span class="w"> </span><span class="err">@</span><span class="n">DAARWIZZBot</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="mi">8323412397</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">aiogram</span><span class="o">.</span><span class="na">dispatcher</span><span class="o">:</span><span class="n">Run</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">bot</span><span class="w"> </span><span class="err">@</span><span class="n">energyunionBot</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="mi">8112062582</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">aiogram</span><span class="o">.</span><span class="na">dispatcher</span><span class="o">:</span><span class="n">Run</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">bot</span><span class="w"> </span><span class="err">@</span><span class="n">greenfoodliveBot</span><span class="w"> </span><span class="n">id</span><span class="o">=</span><span class="mi">7495165343</span>
</code></pre></div>

<h3 id="3-local-telegram-bot-api">3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ Local Telegram Bot API<a class="headerlink" href="#3-local-telegram-bot-api" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># –°—Ç–∞—Ç—É—Å</span>
docker<span class="w"> </span>ps<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>telegram-bot-api

<span class="c1"># –¢–µ—Å—Ç</span>
curl<span class="w"> </span>http://localhost:8081/bot&lt;TOKEN&gt;/getMe
</code></pre></div>

<hr />
<h2 id="_3">üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<h3 id="test-case-1">Test Case 1: –ë–∞–∑–æ–≤–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è<a class="headerlink" href="#test-case-1" title="Permanent link">&para;</a></h3>
<p><strong>–ö—Ä–æ–∫–∏</strong>:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ Telegram
2. –ó–Ω–∞–π—Ç–∏ –±–æ—Ç–∞ <code>@DAARWIZZBot</code> (–∞–±–æ <code>@energyunionBot</code>, <code>@greenfoodliveBot</code>)
3. –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (—É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é/–∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é)
4. –î–æ—á–µ–∫–∞—Ç–∏—Å—è –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</p>
<p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>:
- –ë–æ—Ç –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–æ–º (–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó)
- –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ &lt; 10 —Å–µ–∫—É–Ω–¥</p>
<p><strong>–õ–æ–≥:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">telegram_listener</span><span class="o">:</span><span class="err">üì®</span><span class="w"> </span><span class="n">Received</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chat</span><span class="o">=&lt;</span><span class="n">CHAT_ID</span><span class="o">&gt;</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">telegram_listener</span><span class="o">:</span><span class="err">üì§</span><span class="w"> </span><span class="n">Publishing</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">NATS</span><span class="o">:</span><span class="w"> </span><span class="n">agent</span><span class="o">.</span><span class="na">telegram</span><span class="o">.</span><span class="na">update</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">router_handler</span><span class="o">:</span><span class="err">üì¨</span><span class="w"> </span><span class="n">NATS</span><span class="w"> </span><span class="n">event</span><span class="o">:</span><span class="w"> </span><span class="n">agent</span><span class="o">.</span><span class="na">telegram</span><span class="o">.</span><span class="na">update</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">router_handler</span><span class="o">:</span><span class="err">üîä</span><span class="w"> </span><span class="n">Voice</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">detected</span><span class="o">,</span><span class="w"> </span><span class="n">calling</span><span class="w"> </span><span class="n">STT</span><span class="o">...</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">router_handler</span><span class="o">:</span><span class="err">üìù</span><span class="w"> </span><span class="n">Transcribed</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;–•–æ—á—É –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ MicroDAO&quot;</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">router_handler</span><span class="o">:</span><span class="err">üì§</span><span class="w"> </span><span class="n">Sending</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">Router</span><span class="o">:</span><span class="w"> </span><span class="n">mode</span><span class="o">=</span><span class="n">chat</span><span class="o">,</span><span class="w"> </span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;–•–æ—á—É –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –ø—Ä–æ MicroDAO&quot;</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">router_handler</span><span class="o">:</span><span class="err">‚úÖ</span><span class="w"> </span><span class="n">Response</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">Router</span>
<span class="n">INFO</span><span class="o">:</span><span class="n">app</span><span class="o">.</span><span class="na">telegram_listener</span><span class="o">:</span><span class="err">üì§</span><span class="w"> </span><span class="n">Sending</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">chat</span><span class="o">=&lt;</span><span class="n">CHAT_ID</span><span class="o">&gt;</span>
</code></pre></div>

<hr />
<h3 id="test-case-2">Test Case 2: –î–æ–≤–≥–µ –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è<a class="headerlink" href="#test-case-2" title="Permanent link">&para;</a></h3>
<p><strong>–ö—Ä–æ–∫–∏</strong>:
1. –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è &gt; 30 —Å–µ–∫—É–Ω–¥
2. –î–æ—á–µ–∫–∞—Ç–∏—Å—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó</p>
<p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>:
- –£—Å–ø—ñ—à–Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è
- –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ &lt; 20 —Å–µ–∫—É–Ω–¥</p>
<hr />
<h3 id="test-case-3">Test Case 3: –†—ñ–∑–Ω—ñ –º–æ–≤–∏<a class="headerlink" href="#test-case-3" title="Permanent link">&para;</a></h3>
<p><strong>–ö—Ä–æ–∫–∏</strong>:
1. –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é: "–ü—Ä–∏–≤—ñ—Ç, —è–∫ —Å–ø—Ä–∞–≤–∏?"
2. –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é: "Hello, how are you?"
3. –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ä–æ—Å—ñ–π—Å—å–∫–æ—é: "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?"</p>
<p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>:
- –í—Å—ñ –º–æ–≤–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞—é—Ç—å—Å—è
- Whisper –ø—ñ–¥—Ç—Ä–∏–º—É—î –º—É–ª—å—Ç–∏–º–æ–≤–Ω—ñ—Å—Ç—å</p>
<hr />
<h3 id="test-case-4">Test Case 4: –§–æ–Ω–æ–≤—ñ —à—É–º–∏<a class="headerlink" href="#test-case-4" title="Permanent link">&para;</a></h3>
<p><strong>–ö—Ä–æ–∫–∏</strong>:
1. –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –≥–æ–ª–æ—Å–æ–≤–µ –∑ —Ñ–æ–Ω–æ–≤–∏–º —à—É–º–æ–º (–º—É–∑–∏–∫–∞, –≤—É–ª–∏—Ü—è)
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —è–∫—ñ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó</p>
<p><strong>–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>:
- –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è –ø—Ä–∞—Ü—é—î, –∞–ª–µ –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏
- –ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ä–æ–∑–ø—ñ–∑–Ω–∞–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É</p>
<hr />
<h2 id="troubleshooting">üêõ Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="1">–ü—Ä–æ–±–ª–µ–º–∞ 1: –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –≥–æ–ª–æ—Å–æ–≤—ñ<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p><strong>–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ telegram-gateway</span>
docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">100</span><span class="w"> </span>telegram-gateway<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;(voice|audio|video_note|STT)&#39;</span>

<span class="c1"># 2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ dagi-stt</span>
docker<span class="w"> </span>logs<span class="w"> </span>--tail<span class="w"> </span><span class="m">100</span><span class="w"> </span>dagi-stt<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;(POST|/stt|transcrib)&#39;</span>

<span class="c1"># 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å STT</span>
curl<span class="w"> </span>http://localhost:9000/health
</code></pre></div>

<p><strong>–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏</strong>:
- STT —Å–µ—Ä–≤—ñ—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ
- Telegram Gateway –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î STT
- –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞—É–¥—ñ–æ –∑ Telegram
- –ú–æ–¥–µ–ª—ñ Whisper –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ</p>
<p><strong>–†—ñ—à–µ–Ω–Ω—è</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ STT</span>
docker<span class="w"> </span>restart<span class="w"> </span>dagi-stt

<span class="c1"># –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–æ–¥–µ–ª—ñ</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>dagi-stt<span class="w"> </span>ls<span class="w"> </span>-lh<span class="w"> </span>/weights/<span class="w">  </span><span class="c1"># –∞–±–æ —ñ–Ω—à–∏–π —à–ª—è—Ö –¥–æ –º–æ–¥–µ–ª–µ–π</span>
</code></pre></div>

<hr />
<h3 id="2-stt">–ü—Ä–æ–±–ª–µ–º–∞ 2: STT –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ä–æ–∂–Ω—ñ–π —Ç–µ–∫—Å—Ç<a class="headerlink" href="#2-stt" title="Permanent link">&para;</a></h3>
<p><strong>–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç –∞—É–¥—ñ–æ</span>
docker<span class="w"> </span>logs<span class="w"> </span>dagi-stt<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-i<span class="w"> </span><span class="s1">&#39;format\\|codec\\|error&#39;</span>
</code></pre></div>

<p><strong>–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏</strong>:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –∞—É–¥—ñ–æ (OGG, MP3, WAV)
- –ó–∞–Ω–∞–¥—Ç–æ –∫–æ—Ä–æ—Ç–∫–∏–π —Ñ–∞–π–ª (&lt; 1 —Å–µ–∫)
- –ü–æ—à–∫–æ–¥–∂–µ–Ω–∏–π —Ñ–∞–π–ª</p>
<p><strong>–†—ñ—à–µ–Ω–Ω—è</strong>:
- Telegram –∑–∞–∑–≤–∏—á–∞–π –Ω–∞–¥—Å–∏–ª–∞—î OGG/Opus - Whisper –º–∞—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ STT —Å–µ—Ä–≤—ñ—Å—É</p>
<hr />
<h3 id="3-30">–ü—Ä–æ–±–ª–µ–º–∞ 3: –ü–æ–≤—ñ–ª—å–Ω–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è (&gt; 30 —Å–µ–∫)<a class="headerlink" href="#3-30" title="Permanent link">&para;</a></h3>
<p><strong>–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ CPU/RAM</span>
docker<span class="w"> </span>stats<span class="w"> </span>dagi-stt

<span class="c1"># –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–æ–¥–µ–ª—å Whisper</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>dagi-stt<span class="w"> </span>env<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>WHISPER
</code></pre></div>

<p><strong>–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏</strong>:
- –í–µ–ª–∏–∫–∞ –º–æ–¥–µ–ª—å (large/large-v2) –Ω–∞ CPU
- –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ RAM
- –Ü–Ω—à—ñ –ø—Ä–æ—Ü–µ—Å–∏ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å —Å–µ—Ä–≤–µ—Ä</p>
<p><strong>–†—ñ—à–µ–Ω–Ω—è</strong>:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <code>tiny</code> –∞–±–æ <code>base</code> –º–æ–¥–µ–ª—å –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
- –î–æ–¥–∞—Ç–∏ GPU (NVIDIA) –¥–ª—è –ø—Ä–∏—Å–∫–æ—Ä–µ–Ω–Ω—è
- –ó–±—ñ–ª—å—à–∏—Ç–∏ —Ä–µ—Å—É—Ä—Å–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞</p>
<hr />
<h2 id="metrics-stt">üìä Metrics –¥–ª—è STT<a class="headerlink" href="#metrics-stt" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code><span class="c1"># –ö—ñ–ª—å–∫—ñ—Å—Ç—å STT –∑–∞–ø–∏—Ç—ñ–≤</span>
<span class="kr">rate</span><span class="o">(</span><span class="nv">stt_requests_total</span><span class="p">[</span><span class="s">5m</span><span class="p">]</span><span class="o">)</span>

<span class="c1"># –ß–∞—Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó (p95)</span>
<span class="kr">histogram_quantile</span><span class="o">(</span><span class="mf">0.95</span><span class="p">,</span><span class="w"> </span><span class="kr">rate</span><span class="o">(</span><span class="nv">stt_duration_seconds_bucket</span><span class="p">[</span><span class="s">5m</span><span class="p">]</span><span class="o">))</span>

<span class="c1"># –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫</span>
<span class="kr">rate</span><span class="o">(</span><span class="nv">stt_errors_total</span><span class="p">[</span><span class="s">5m</span><span class="p">]</span><span class="o">)</span>
</code></pre></div>

<hr />
<h2 id="_4">‚úÖ –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<ol>
<li>‚úÖ STT —Å–µ—Ä–≤—ñ—Å –ø—Ä–∞—Ü—é—î (<code>docker ps | grep dagi-stt</code>)</li>
<li>‚úÖ Telegram Gateway –æ—Ç—Ä–∏–º—É—î –≥–æ–ª–æ—Å–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–ª–æ–≥–∏)</li>
<li>‚úÖ –ë–æ—Ç –∫–æ—Ä–µ–∫—Ç–Ω–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±—É—î —É–∫—Ä–∞—ó–Ω—Å—å–∫—É —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫—É</li>
<li>‚úÖ –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ &lt; 10 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (&lt; 10 —Å–µ–∫ –∞—É–¥—ñ–æ)</li>
<li>‚úÖ –ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–æ–≤–∞–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É</li>
</ol>
<hr />
<h2 id="_5">üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<ol>
<li>–î–æ–¥–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É —ñ–Ω—à–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ (MP3, WAV)</li>
<li>–û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –º–æ–¥–µ–ª—å Whisper (smaller model –∞–±–æ GPU)</li>
<li>–î–æ–¥–∞—Ç–∏ –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Ñ—Ä–∞–∑</li>
<li>–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ TTS –¥–ª—è –ø–æ–≤–Ω–æ—ó voice-to-voice –≤–∑–∞—î–º–æ–¥—ñ—ó</li>
</ol>
<hr />
<p><em>–¢–µ—Å—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ: 2025-11-18</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.instant", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.3220b9d7.min.js"></script>
      
    
  </body>
</html>